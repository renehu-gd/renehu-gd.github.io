"use strict";(self.webpackChunktfin_ui_project_template=self.webpackChunktfin_ui_project_template||[]).push([[323],{1624:function(e,t,n){n.r(t);var o=n(2672),s=n.n(o),r=n(1250),i=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,o=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),o(e),s(e),r(e),i(e)}))},a=n(5861),c=n(1413),l=n(4925),h=n(5671),u=n(3144),p=n(9340),d=n(5716),C=n(7757),f=n.n(C),g=n(1694),w=n.n(g),v=n(7180),k=n(2249),x=n(1386),m=n(5160),y=n(5989),j=(n(2336),n(3703)),S=n(9868),Z=n(184),b=["contextCls"],E=["contextCls"],T=["contextCls"],P=["isAgentOnline","isSuccess","errors"],W=function(e){(0,p.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;(0,h.Z)(this,n);for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={shouldShowChooseOptionWindow:!1,shouldShowErrorPage:!1,shouldShowHoopWindow:!1,shouldShowChat:!0},e.renderHoopWindow=function(){var t=e.props,n=t.contextCls,o=(0,l.Z)(t,b),s=e.state.chatConfigs;return(0,Z.jsx)(x.Z,(0,c.Z)((0,c.Z)({contextCls:w()(e.baseCls,n),hoop:s.hoop,isLeaveAgentMessageEnabled:s.isLeaveAgentMessageEnabled},o),s))},e.renderChooseOptionWindow=function(){var t=e.props,n=t.contextCls,o=(0,l.Z)(t,E),s=e.state.chatConfigs;return(0,Z.jsx)(v.Z,(0,c.Z)((0,c.Z)({contextCls:w()(e.baseCls,n),ewt:s.ewt},o),s))},e.renderErrorPage=function(){var t=e.props,n=t.contextCls,o=(0,l.Z)(t,T);return(0,Z.jsx)(k.Z,(0,c.Z)({contextCls:w()(e.baseCls,n),icon:"WarningAlert",windowTitle:"Chat with an agent",headText:"There was a problem connecting to chat support",subText:"Please try again later."},o))},e.baseCls="web-chat-module",e}return(0,u.Z)(n,[{key:"render",value:function(){return this.state.isDesignTokenApplied&&this.renderContent()}},{key:"componentDidMount",value:function(){var e=this.props.accessToken;e&&(S.Z.accessToken=e),this.setContainerElementStyle(),this.fetchConfig(),this.applyDesignToken()}},{key:"componentWillUnmount",value:function(){this.restoreContainerElementStyle()}},{key:"renderContent",value:function(){var e=this.props.contextCls,t=this.state;t.shouldShowChooseOptionWindow,t.shouldShowErrorPage,t.shouldShowHoopWindow;return(0,Z.jsxs)(Z.Fragment,{children:["return (",(0,Z.jsx)(m.Z,{contextCls:w()(this.baseCls,e)}),")"]})}},{key:"fetchConfig",value:function(){var e=(0,a.Z)(f().mark((function e(){var t,n,o,s,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,e.next=4,y.Z.getChatConfig();case 4:n=e.sent,o=n.isAgentOnline,s=n.isSuccess,n.errors,r=(0,l.Z)(n,P),t.chatConfigs=r,o?t.shouldShowChooseOptionWindow=!0:t.shouldShowHoopWindow=!0,s||(t.shouldShowErrorPage=!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.shouldShowErrorPage=!0;case 14:return e.prev=14,this.setState(t),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"applyDesignToken",value:function(){var e=(0,a.Z)(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.brand,e.next=4,j.Z.import(t);case 4:this.setState({isDesignTokenApplied:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.debug(e.t0.message);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"setContainerElementStyle",value:function(){var e=this.props.containerElement;e&&(this.setState({originContainerElementPosition:e.style.position}),e.style.position="relative")}},{key:"restoreContainerElementStyle",value:function(){var e=this.props.containerElement,t=this.state.originContainerElementPosition;e&&t&&(e.style.position=t)}}]),n}(o.PureComponent),A=W;var D=document.getElementById("root");r.createRoot(D).render((0,Z.jsxs)(s().StrictMode,{children:[(0,Z.jsx)("div",{children:"Test Widget Page, when invoke the wiget, we should expose the ChatModule only and set the containerElement to which element in the existing page"}),(0,Z.jsx)(A,{containerElement:D,accessToken:"ajkdjkljaklsjdfkljaklsdjfljksdajlf",brand:"go2bank",accountIdentifier:"adjkajsdlfjlkajsd",onChatWidgetClose:function(){console.log("Chat window has been closed")}})]})),i()},1250:function(e,t,n){var o=n(4556);t.createRoot=o.createRoot,t.hydrateRoot=o.hydrateRoot}}]);
//# sourceMappingURL=323.06618375.chunk.js.map