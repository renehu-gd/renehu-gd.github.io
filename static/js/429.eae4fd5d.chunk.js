"use strict";(self.webpackChunktfin_ui_project_template=self.webpackChunktfin_ui_project_template||[]).push([[429],{6481:function(e,t,n){n.r(t);var o=n(5861),s=n(1413),r=n(4925),a=n(5671),i=n(3144),l=n(9340),h=n(5716),u=n(7757),c=n.n(u),d=n(1694),w=n.n(d),p=n(2672),g=n(7961),C=n(2249),f=n(1386),S=n(6750),v=n(5989),x=(n(2336),n(184)),W=["contextCls"],Z=["contextCls"],m=["contextCls"],y=["contextCls"],M=["contextCls"],b=["isAgentOnline","isSuccess","errors"],k=function(e){(0,l.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={shouldShowChooseOptionWindow:!1,shouldShowErrorPage:!1,shouldShowHoopWindow:!1,shouldShowLeaveMessageWindow:!1,shouldShowMessageSentWindow:!1},e.renderHoopWindow=function(){var t=e.props,n=t.contextCls,o=(0,r.Z)(t,W),a=e.state.chatConfigs;return(0,x.jsx)(f.Z,(0,s.Z)((0,s.Z)({contextCls:w()(e.baseCls,n),onLeaveMessage:e.handleLeaveMessage},o),a))},e.renderChooseOptionWindow=function(){var t=e.props,n=t.contextCls,o=(0,r.Z)(t,Z),a=e.state.chatConfigs;return(0,x.jsx)(g.Z,(0,s.Z)((0,s.Z)({contextCls:w()(e.baseCls,n)},o),a))},e.renderErrorPage=function(){var t=e.props,n=t.contextCls,o=(0,r.Z)(t,m);return(0,x.jsx)(C.Z,(0,s.Z)({contextCls:w()(e.baseCls,n),icon:"WarningAlert",windowTitle:"Chat With an agent",headText:"There was a problem connecting to chat support",subText:"Please try again later."},o))},e.renderLeaveMessageWindow=function(){var t=e.props,n=t.contextCls,o=(0,r.Z)(t,y),a=e.state,i=a.chatConfigs,l=a.userInfo;return(0,x.jsx)(S.Z,(0,s.Z)((0,s.Z)((0,s.Z)({contextCls:w()(e.baseCls,n),onMessageSent:e.handleMessageSent},o),i),l))},e.renderMessageSentWindow=function(){var t=e.props,n=t.contextCls,o=(0,r.Z)(t,M);return(0,x.jsx)(C.Z,(0,s.Z)({contextCls:w()(e.baseCls,n),icon:"Success",headText:"Message sent",subText:"We will get back to you as soon as we can."},o))},e.handleLeaveMessage=function(){e.setState({shouldShowHoopWindow:!1,shouldShowLeaveMessageWindow:!0})},e.handleMessageSent=function(){e.setState({shouldShowLeaveMessageWindow:!1,shouldShowMessageSentWindow:!0})},e.baseCls="web-chat-module",e}return(0,i.Z)(n,[{key:"render",value:function(){var e=this.state,t=e.shouldShowChooseOptionWindow,n=e.shouldShowErrorPage,o=e.shouldShowHoopWindow,s=e.shouldShowLeaveMessageWindow,r=e.shouldShowMessageSentWindow;return(0,x.jsxs)(x.Fragment,{children:[t&&this.renderChooseOptionWindow(),o&&this.renderHoopWindow(),n&&this.renderErrorPage(),s&&this.renderLeaveMessageWindow(),r&&this.renderMessageSentWindow()]})}},{key:"componentDidMount",value:function(){this.setContainerElementStyle(),this.fetchConfig(),this.getUserInfo()}},{key:"componentWillUnmount",value:function(){this.restoreContainerElementStyle()}},{key:"getUserInfo",value:function(){this.setState({userInfo:{accountIdentifier:"10863a4e-4a14-496f-8b7a-e3efd573a995",email:"test@gmail.com"}})}},{key:"fetchConfig",value:function(){var e=(0,o.Z)(c().mark((function e(){var t,n,o,s,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,e.next=4,v.Z.getChatConfig();case 4:n=e.sent,o=n.isAgentOnline,s=n.isSuccess,n.errors,a=(0,r.Z)(n,b),t.chatConfigs=a,o?(t.shouldShowChooseOptionWindow=!0,this.setState({shouldShowChooseOptionWindow:!0})):t.shouldShowHoopWindow=!0,s||(t.shouldShowErrorPage=!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.shouldShowErrorPage=!0;case 14:return e.prev=14,this.setState(t),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"setContainerElementStyle",value:function(){var e=this.props.containerElement;e&&(this.setState({originContainerElementPosition:e.style.position}),e.style.position="relative")}},{key:"restoreContainerElementStyle",value:function(){var e=this.props.containerElement,t=this.state.originContainerElementPosition;e&&t&&(e.style.position=t)}}]),n}(p.PureComponent);t.default=k}}]);
//# sourceMappingURL=429.eae4fd5d.chunk.js.map