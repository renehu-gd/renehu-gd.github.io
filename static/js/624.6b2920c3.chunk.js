"use strict";(self.webpackChunktfin_ui_project_template=self.webpackChunktfin_ui_project_template||[]).push([[624],{1624:function(e,n,t){t.r(n);var o=t(2672),r=t.n(o),s=t(1250),a=function(e){e&&e instanceof Function&&t.e(787).then(t.bind(t,787)).then((function(n){var t=n.getCLS,o=n.getFID,r=n.getFCP,s=n.getLCP,a=n.getTTFB;t(e),o(e),r(e),s(e),a(e)}))},i=t(4165),c=t(5861),d=t(1413),l=t(4925),u=t(5671),h=t(3144),p=t(9340),f=t(2882),g=t(1694),C=t.n(g),w=t(8491),v=t(5154),x=t(2330),Z=t(6202),k=t(6472),b=t(2889),j=t(5996),m=t(4113),S=t(3170),y=t(8810),_=t(9306),T=t(2496),W=t(9551),A=t(9468),E=(t(2336),t(184)),L=["contextCls"],P=["contextCls"],I=["contextCls"],M=["isAgentOnline"],O=function(e){(0,p.Z)(o,e);var n=(0,f.Z)(o);function o(){var e;(0,u.Z)(this,o);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=n.call.apply(n,[this].concat(s))).state={isLoading:!0,shouldShowChooseOptionWindow:!1,hasError:!1,shouldShowHoopWindow:!1,isI18nReady:!1},e.renderContent=function(){var n=e.state,t=n.shouldShowChooseOptionWindow,o=n.shouldShowHoopWindow,r=e.props.contextCls;return(0,E.jsxs)("div",{className:C()(e.baseCls,r),children:[t&&e.renderChooseOptionWindow(),o&&e.renderHoopWindow()]})},e.renderHoopWindow=function(){var n=e.props,t=(n.contextCls,(0,l.Z)(n,L)),o=e.state.chatConfigs,r=o.hoop,s=o.isLeaveAgentMessageEnabled;return(0,E.jsx)(k.Z,(0,d.Z)((0,d.Z)({},t),{},{contextCls:"".concat(e.baseCls,"__hoop"),hoop:r,isLeaveAgentMessageEnabled:s},o))},e.renderChooseOptionWindow=function(){var n=e.props,t=(n.contextCls,(0,l.Z)(n,P)),o=e.state.chatConfigs,r=o.ewt;return(0,E.jsx)(x.Z,(0,d.Z)((0,d.Z)({},t),{},{contextCls:"".concat(e.baseCls,"__choose-option-window"),ewt:r},o))},e.renderErrorPage=function(){var n=e.props,t=(n.contextCls,(0,l.Z)(n,I)),o=(0,w.i0)("chatModule.errorPage.title"),r=(0,w.i0)("chatModule.errorPage.headText"),s=(0,w.i0)("chatModule.errorPage.subText");return(0,E.jsx)(Z.Z,(0,d.Z)((0,d.Z)({},t),{},{contextCls:"".concat(e.baseCls,"__generic-message"),icon:j.Z.WARNING,windowTitle:o,headText:r,subText:s}))},e.renderLoading=function(){var n=Object.assign({},e.props),t=(0,w.i0)("chatModule.loading.title");return(0,E.jsx)(b.Z,(0,d.Z)((0,d.Z)({},n),{},{contextCls:"".concat(e.baseCls,"__loading"),title:t,shouldShowCloseBtn:!0}))},e.fetchConfig=(0,c.Z)((0,i.Z)().mark((function n(){var t,o,r,s;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={isLoading:!1},n.prev=1,n.next=4,(0,S.$D)();case 4:o=n.sent,r=o.isAgentOnline,s=(0,l.Z)(o,M),t.chatConfigs=s,r?t.shouldShowChooseOptionWindow=!0:t.shouldShowHoopWindow=!0,n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),t.hasError=!0;case 13:return n.prev=13,e.setState(t),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[1,10,13,16]])}))),e.initialSetup=function(){var n=e.props,t=n.accessToken,o=n.applicationId,r=n.platform,s=n.env,a=n.brand;t&&(0,_.M8)(t),o&&(0,_.u0)(o),r&&(0,T.VY)(r.toUpperCase()),s&&((0,_.Nb)(s.toUpperCase()),W.Z.Environment=s.toUpperCase(),(0,_.S9)(A.G0[(0,T.Xf)()][(0,_.dU)()])),a&&(W.Z.Brand=a)},e.initI18n=(0,c.Z)((0,i.Z)().mark((function n(){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,w.YV)({defaultTranslations:{"en-US":function(){return t.e(661).then(t.t.bind(t,6661,19))}},shouldLoadStrings:!1});case 2:e.setState({isI18nReady:!0});case 3:case"end":return n.stop()}}),n)}))),e.applyDesignToken=(0,c.Z)((0,i.Z)().mark((function n(){var t;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.props.brand,n.next=3,(0,y.p)(t);case 3:e.setState({isDesignTokenApplied:!0});case 4:case"end":return n.stop()}}),n)}))),e.destoryClient=(0,c.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.lu();case 2:case"end":return e.stop()}}),e)}))),e.baseCls="web-chat-module",e}return(0,h.Z)(o,[{key:"render",value:function(){var e=this.state,n=e.isDesignTokenApplied,t=e.isLoading,o=e.hasError,r=e.isI18nReady;return n&&r&&(0,E.jsx)(v.Z,{contextCls:"".concat(this.baseCls,"__loading"),isLoading:t,hasError:o,renderLoadingState:this.renderLoading,renderErrorState:this.renderErrorPage,children:this.renderContent()})}},{key:"componentDidMount",value:function(){this.initI18n(),this.initialSetup(),this.fetchConfig(),this.applyDesignToken()}},{key:"componentWillUnmount",value:function(){this.destoryClient(),(0,_.cG)()}}]),o}(o.PureComponent);O.defaultProps={onChatWidgetClose:function(){return Promise.resolve()},platform:A.iw.BAAS,brand:A.cg.GO2BANK,env:A.Gv.PROD};var R=O;var D=document.getElementById("root");s.createRoot(D).render((0,E.jsxs)(r().StrictMode,{children:[(0,E.jsx)("div",{children:"Test Widget Page, when invoke the wiget, we should expose the ChatModule only and set the containerElement to which element in the existing page"}),(0,E.jsx)(R,{containerElement:D,accessToken:"ajkdjkljaklsjdfkljaklsdjfljksdajlf",brand:"rushcard",accountIdentifier:"adjkajsdlfjlkajsd",onChatWidgetClose:function(){console.log("Chat window has been closed")},applicationId:"10001",env:"QA",platform:"BAAS"})]})),a()},1250:function(e,n,t){var o=t(6223);n.createRoot=o.createRoot,n.hydrateRoot=o.hydrateRoot}}]);
//# sourceMappingURL=624.6b2920c3.chunk.js.map