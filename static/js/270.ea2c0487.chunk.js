"use strict";(self.webpackChunktfin_ui_project_template=self.webpackChunktfin_ui_project_template||[]).push([[270],{2330:function(e,n,t){t.d(n,{Z:function(){return we}});var r=t(1413),o=t(4925),a=t(5671),s=t(3144),i=t(9340),c=t(5716),l=t(2672),u=t(1694),d=t.n(u),h=t(847),p=t(1235),C=t(3748),m=t(877),g=t(6746),f=t(2515),v=t(3356),x=t(5861),w=t(7757),b=t.n(w),S=t(7996),Z=t(537),M=t(2810),E=t(5996),y=t(6202),k=t(4113),I=t(2982),_=t(7441),B=t(813),T=t(6363),A=t(4942),W=t(1909),L=t(184),O=function(e){(0,i.Z)(t,e);var n=(0,c.Z)(t);function t(){var e;(0,a.Z)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=n.call.apply(n,[this].concat(o))).baseCls="web-chat-bubble-right-tail",e}return(0,s.Z)(t,[{key:"render",value:function(){var e=this.props.contextCls;return(0,L.jsx)("svg",{className:d()(this.baseCls,e),width:"12",height:"15",viewBox:"0 0 12 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,L.jsx)("path",{d:"M-0.000148773 0H5.99985C5.99985 4.82743 5.65399 12.7323 11.1514 15C4.94531 15 0.969548 12.3333 -0.000148773 11V0Z",fill:"currentColor"})})}}]),t}(l.PureComponent),j=O,P=function(e){(0,i.Z)(t,e);var n=(0,c.Z)(t);function t(){var e;(0,a.Z)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=n.call.apply(n,[this].concat(o))).baseCls="web-chat-bubble-left-tail",e}return(0,s.Z)(t,[{key:"render",value:function(){var e=this.props.contextCls;return(0,L.jsx)("svg",{className:d()(this.baseCls,e),width:"11",height:"15",viewBox:"0 0 11 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,L.jsx)("path",{d:"M11 0H5C5 4.86555 5.60812 12.6867 0 15C6.20606 15 10.0303 12.3333 11 11V0Z",fill:"currentColor"})})}}]),t}(l.PureComponent),N=P,R=function(e){(0,i.Z)(t,e);var n=(0,c.Z)(t);function t(){var e;(0,a.Z)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=n.call.apply(n,[this].concat(o))).renderActions=function(){var n=e.props.index;return(0,L.jsxs)("div",{className:"".concat(e.baseCls,"__actions-container"),children:[(0,L.jsx)("span",{className:"".concat(e.baseCls,"__actions-text"),children:(0,m.i0)("chatTextBubble.actionsContainerText")}),(0,L.jsx)(W.Z,{contextCls:"".concat(e.baseCls,"__actions-link-retry"),text:(0,m.i0)("chatTextBubble.actionsContainer.retryLinkButtonText"),data:{index:n},onClick:e.handleRetryClick,"aria-label":(0,m.i0)("chatTextBubble.actionsContainer.retryLinkButtonAriaLabel")}),(0,L.jsx)("span",{className:"".concat(e.baseCls,"__actions-divider"),children:(0,m.i0)("chatTextBubble.actionsContainer.dividerText")}),(0,L.jsx)(W.Z,{contextCls:"".concat(e.baseCls,"__actions-link-remove"),text:(0,m.i0)("chatTextBubble.actionsContainer.removeLinkButtonText"),data:{index:n},onClick:e.handleRemoveClick,"aria-label":(0,m.i0)("chatTextBubble.actionsContainer.removeLinkButtonAriaLabel")})]})},e.renderTail=function(){var n=e.props.isTextFromMe?j:N;return(0,L.jsx)(n,{contextCls:"".concat(e.baseCls,"__tail")})},e.handleRetryClick=function(n){var t=e.props.onRetry;t&&t(n)},e.handleRemoveClick=function(n){var t=e.props.onRemove;t&&t(n)},e.getModCls=function(){var n,t=e.props.isTextFromMe;return n={},(0,A.Z)(n,"".concat(e.baseCls,"--from-me"),t),(0,A.Z)(n,"".concat(e.baseCls,"--from-other"),!t),(0,A.Z)(n,"".concat(e.baseCls,"--tail-right"),t),(0,A.Z)(n,"".concat(e.baseCls,"--tail-left"),!t),n},e.baseCls="web-chat-text-bubble",e}return(0,s.Z)(t,[{key:"render",value:function(){var e=this.props,n=e.contextCls,t=e.text,r=e.children,o=e.id,a=e.isFailed,s=e.isTextFromMe,i=this.getModCls();return(0,L.jsx)("div",{className:d()(this.baseCls,n),children:(0,L.jsxs)("div",{className:"".concat(this.baseCls,"__bubble-actions-container"),children:[(0,L.jsx)("div",{id:o,className:d()(this.baseCls,i,n),children:(0,L.jsxs)("div",{className:"".concat(this.baseCls,"__bubble-container"),children:[null!==t&&void 0!==t?t:r,this.renderTail()]})}),s&&a&&this.renderActions()]})})}}]),t}(l.PureComponent);R.defaultProps={isTextFromMe:!0};var F=R,z=t(7770),D=function(e){(0,i.Z)(t,e);var n=(0,c.Z)(t);function t(){var e;(0,a.Z)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=n.call.apply(n,[this].concat(o))).baseCls="web-chat-typing-bubble",e}return(0,s.Z)(t,[{key:"render",value:function(){var e=this.props.contextCls;return(0,L.jsx)("div",{className:d()(this.baseCls,e),children:(0,L.jsxs)("div",{className:"".concat(this.baseCls,"__bubble-container"),children:[(0,L.jsx)(z.Z,{}),(0,L.jsx)(N,{contextCls:"".concat(this.baseCls,"__tail")})]})})}}]),t}(l.PureComponent),U=D,G=function(e){(0,i.Z)(t,e);var n=(0,c.Z)(t);function t(){var e;(0,a.Z)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=n.call.apply(n,[this].concat(o))).baseCls="web-chat-svg-image",e}return(0,s.Z)(t,[{key:"render",value:function(){var e=this.props.contextCls;return(0,L.jsx)("svg",{className:d()(this.baseCls,e),width:"35",height:"28",viewBox:"0 0 35 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,L.jsx)("path",{d:"M29.1668 0.666626H5.8335C4.50741 0.666626 3.23564 1.19341 2.29796 2.13109C1.36028 3.06877 0.833496 4.34054 0.833496 5.66663V22.3333C0.833496 23.6594 1.36028 24.9311 2.29796 25.8688C3.23564 26.8065 4.50741 27.3333 5.8335 27.3333H29.1668C30.4929 27.3333 31.7647 26.8065 32.7024 25.8688C33.64 24.9311 34.1668 23.6594 34.1668 22.3333V5.66663C34.1668 4.34054 33.64 3.06877 32.7024 2.13109C31.7647 1.19341 30.4929 0.666626 29.1668 0.666626ZM5.8335 24C5.39147 24 4.96755 23.8244 4.65499 23.5118C4.34242 23.1992 4.16683 22.7753 4.16683 22.3333V18.3L9.66683 12.8166C9.97838 12.5112 10.3972 12.3402 10.8335 12.3402C11.2698 12.3402 11.6886 12.5112 12.0002 12.8166L23.1835 24H5.8335ZM30.8335 22.3333C30.8335 22.7753 30.6579 23.1992 30.3453 23.5118C30.0328 23.8244 29.6089 24 29.1668 24H27.8835L21.5335 17.6166L23.0002 16.15C23.3117 15.8446 23.7306 15.6735 24.1668 15.6735C24.6031 15.6735 25.0219 15.8446 25.3335 16.15L30.8335 21.6333V22.3333ZM30.8335 16.9333L27.7002 13.8166C26.7503 12.904 25.4841 12.3943 24.1668 12.3943C22.8496 12.3943 21.5834 12.904 20.6335 13.8166L19.1668 15.2833L14.3668 10.4833C13.4169 9.57068 12.1508 9.061 10.8335 9.061C9.51624 9.061 8.25007 9.57068 7.30016 10.4833L4.16683 13.6V5.66663C4.16683 5.2246 4.34242 4.80068 4.65499 4.48811C4.96755 4.17555 5.39147 3.99996 5.8335 3.99996H29.1668C29.6089 3.99996 30.0328 4.17555 30.3453 4.48811C30.6579 4.80068 30.8335 5.2246 30.8335 5.66663V16.9333Z",fill:"currentColor"})})}}]),t}(l.PureComponent),H=G,K=function(e){(0,i.Z)(t,e);var n=(0,c.Z)(t);function t(){var e;(0,a.Z)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=n.call.apply(n,[this].concat(o))).baseCls="web-chat-svg-image-slash",e}return(0,s.Z)(t,[{key:"render",value:function(){var e=this.props.contextCls;return(0,L.jsx)("svg",{className:d()(this.baseCls,e),width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,L.jsx)("path",{d:"M19.5002 4.00006H10.0002C9.73497 4.00006 9.48062 4.10542 9.29308 4.29296C9.10554 4.48049 9.00019 4.73485 9.00019 5.00006C9.00019 5.26528 9.10554 5.51963 9.29308 5.70717C9.48062 5.89471 9.73497 6.00006 10.0002 6.00006H19.5002C19.7654 6.00006 20.0198 6.10542 20.2073 6.29296C20.3948 6.48049 20.5002 6.73485 20.5002 7.00006V13.7601L18.6202 11.8801C18.2987 11.5603 17.909 11.3175 17.4802 11.1701C17.3554 11.128 17.2236 11.111 17.0923 11.1199C16.9609 11.1288 16.8326 11.1635 16.7147 11.222C16.5968 11.2805 16.4915 11.3617 16.405 11.4609C16.3184 11.5601 16.2522 11.6753 16.2102 11.8001C16.1682 11.9248 16.1511 12.0566 16.16 12.188C16.169 12.3193 16.2037 12.4476 16.2622 12.5655C16.3207 12.6835 16.4018 12.7887 16.501 12.8753C16.6002 12.9619 16.7154 13.028 16.8402 13.0701C16.9784 13.1136 17.1026 13.1929 17.2002 13.3001L20.5102 16.5901C20.5045 16.6399 20.5045 16.6902 20.5102 16.7401C20.5057 16.79 20.5057 16.8402 20.5102 16.8901C20.5478 16.954 20.5913 17.0143 20.6402 17.0701C20.6646 17.111 20.6949 17.1481 20.7302 17.1801C20.7902 17.2356 20.8575 17.2827 20.9302 17.3201C20.9647 17.3438 21.0015 17.364 21.0402 17.3801C21.1565 17.4324 21.2826 17.4596 21.4102 17.4601C21.6754 17.4601 21.9298 17.3547 22.1173 17.1672C22.3048 16.9796 22.4102 16.7253 22.4102 16.4601V7.00006C22.4105 6.21976 22.1068 5.47003 21.5636 4.90994C21.0203 4.34985 20.2801 4.02347 19.5002 4.00006V4.00006ZM3.21019 2.29006C3.02188 2.10176 2.76649 1.99597 2.50019 1.99597C2.23388 1.99597 1.97849 2.10176 1.79019 2.29006C1.60188 2.47837 1.49609 2.73376 1.49609 3.00006C1.49609 3.26636 1.60188 3.52176 1.79019 3.71006L3.18019 5.10006C2.74092 5.63587 2.50065 6.30721 2.50019 7.00006V17.0001C2.50019 17.7957 2.81626 18.5588 3.37887 19.1214C3.94147 19.684 4.70454 20.0001 5.50019 20.0001H18.0902L19.7902 21.7101C19.8831 21.8038 19.9937 21.8782 20.1156 21.929C20.2375 21.9797 20.3682 22.0059 20.5002 22.0059C20.6322 22.0059 20.7629 21.9797 20.8848 21.929C21.0066 21.8782 21.1172 21.8038 21.2102 21.7101C21.3039 21.6171 21.3783 21.5065 21.4291 21.3846C21.4798 21.2628 21.506 21.1321 21.506 21.0001C21.506 20.8681 21.4798 20.7373 21.4291 20.6155C21.3783 20.4936 21.3039 20.383 21.2102 20.2901L3.21019 2.29006ZM4.50019 7.00006C4.50263 6.83931 4.54379 6.68152 4.62019 6.54006L7.34019 9.25006C6.96837 9.39167 6.62845 9.60583 6.34019 9.88006L4.50019 11.7601V7.00006ZM5.50019 18.0001C5.23497 18.0001 4.98062 17.8947 4.79308 17.7072C4.60554 17.5196 4.50019 17.2653 4.50019 17.0001V14.5801L7.80019 11.2901C7.98711 11.1068 8.23843 11.0042 8.50019 11.0042C8.76194 11.0042 9.01326 11.1068 9.20019 11.2901L15.9102 18.0001H5.50019Z",fill:"#666666"})})}}]),t}(l.PureComponent),V=K,Y=function(e){(0,i.Z)(t,e);var n=(0,c.Z)(t);function t(){var e;(0,a.Z)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=n.call.apply(n,[this].concat(o))).state={isLoading:!0,isImageFetchFailedFromOther:!1},e.renderLoading=function(){var n=e.state.isImageFetchFailedFromOther,t=e.props,r=t.contextCls,o=t.isFromOther,a=t.media,s=t.index,i=t.isFailed,c=a.sid,l=e.getModCls();return(0,L.jsx)("div",{id:c,className:d()(e.baseCls,l,r),children:(0,L.jsxs)("div",{className:"".concat(e.baseCls,"__loading-actions-container"),children:[(0,L.jsxs)("div",{className:"".concat(e.baseCls,"__loading-container"),children:[(0,L.jsxs)("div",{className:"".concat(e.baseCls,"__loading-bubble"),children:[o&&n?e.renderBrokenImageIcon():e.renderDefaultImageIcon(),o&&!n&&e.renderLoadingImageFromOtherStatus(),!o&&e.renderTail()]}),(0,L.jsx)("div",{className:"".concat(e.baseCls,"__uploading-status"),children:s&&!i&&(0,m.i0)("chatImageBubble.uploadingStatus.text")})]}),i&&e.renderActions(),o&&n&&e.renderRetryFetchImageAction()]})})},e.renderActions=function(){var n=e.props.index;return(0,L.jsxs)("div",{className:"".concat(e.baseCls,"__actions-container"),children:[(0,L.jsx)("span",{className:"".concat(e.baseCls,"__actions-text"),children:(0,m.i0)("chatImageBubble.actionsContainerText")}),(0,L.jsx)(W.Z,{contextCls:"".concat(e.baseCls,"__actions-link-retry"),text:(0,m.i0)("chatImageBubble.actionsContainer.retryLinkButtonText"),data:{index:n},onClick:e.handleRetryClick,"aria-label":(0,m.i0)("chatImageBubble.actionsContainer.retryLinkButtonAriaLabel")}),(0,L.jsx)("span",{className:"".concat(e.baseCls,"__actions-divider"),children:(0,m.i0)("chatImageBubble.actionsContainer.dividerText")}),(0,L.jsx)(W.Z,{contextCls:"".concat(e.baseCls,"__actions-link-remove"),text:(0,m.i0)("chatImageBubble.actionsContainer.removeLinkButtonText"),data:{index:n},onClick:e.handleRemoveClick,"aria-label":(0,m.i0)("chatImageBubble.actionsContainer.removeLinkButtonAriaLabel")})]})},e.renderRetryFetchImageAction=function(){return(0,L.jsxs)("div",{className:"".concat(e.baseCls,"__actions-container"),children:[(0,L.jsx)("span",{className:"".concat(e.baseCls,"__actions-text"),children:(0,m.i0)("chatImageBubble.actionsFromOtherContainerText")}),(0,L.jsx)(W.Z,{contextCls:"".concat(e.baseCls,"__actions-link-retry"),text:(0,m.i0)("chatImageBubble.actionsContainer.retryLinkButtonText"),onClick:e.handleRetryLoadingImageFromOtherClick,"aria-label":(0,m.i0)("chatImageBubble.actionsContainer.retryLinkButtonAriaLabel")})]})},e.renderImageThumbnail=function(){var n=e.state.mediaUrl,t=e.props,r=t.contextCls,o=t.media,a=o.sid,s=o.filename,i=e.getModCls();return(0,L.jsx)("div",{id:a,className:d()(e.baseCls,i,r),children:(0,L.jsxs)("a",{className:"".concat(e.baseCls,"__bubble-thumbnail-container"),href:n,target:"_blank","aria-label":(0,m.i0)("chatImageBubble.img"),children:[(0,L.jsx)("div",{className:"".concat(e.baseCls,"__thumbnail-container"),children:(0,L.jsx)("img",{className:"".concat(e.baseCls,"__thumbnail"),width:"100%",height:"100%",src:n,alt:"".concat(s)})}),(0,L.jsx)("div",{className:"".concat(e.baseCls,"__modal-scrim"),children:(0,L.jsxs)("div",{className:"".concat(e.baseCls,"__modal-scrim-content"),children:[e.renderDefaultImageIcon(),(0,L.jsx)("div",{className:"".concat(e.baseCls,"__modal-scrim-hint"),children:(0,m.i0)("chatImageBubble.img")})]})})]})})},e.renderDefaultImageIcon=function(){return(0,L.jsx)(H,{})},e.renderBrokenImageIcon=function(){return(0,L.jsx)(V,{})},e.renderLoadingImageFromOtherStatus=function(){return(0,L.jsx)("p",{className:"".concat(e.baseCls,"__loading-image-from-other-status"),children:(0,m.i0)("chatImageBubble.imageLoadingFromOtherStatus.text")})},e.renderTail=function(){var n=e.props.isFromOther?N:j;return(0,L.jsx)(n,{contextCls:"".concat(e.baseCls,"__tail")})},e.handleRetryClick=function(n){var t=e.props.onRetry;t&&t(n)},e.handleRemoveClick=function(n){var t=e.props.onRemove;t&&t(n)},e.handleRetryLoadingImageFromOtherClick=function(){e.setState({isLoading:!0,isImageFetchFailedFromOther:!1}),e.loadMedia()},e.getModCls=function(){var n,t=e.props.isFromOther;return n={},(0,A.Z)(n,"".concat(e.baseCls,"--from-me"),!t),(0,A.Z)(n,"".concat(e.baseCls,"--from-other"),t),n},e.loadMedia=(0,x.Z)(b().mark((function n(){var t,r,o;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.props.media,r={},n.prev=2,n.next=5,t.getContentTemporaryUrl();case 5:(o=n.sent)?(r.mediaUrl=o,r.isLoading=!1,r.isImageFetchFailedFromOther=!1):r.isImageFetchFailedFromOther=!0,n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),r.isImageFetchFailedFromOther=!0;case 12:return n.prev=12,e.setState(r),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[2,9,12,15]])}))),e.baseCls="web-chat-image-bubble",e}return(0,s.Z)(t,[{key:"render",value:function(){var e=this.props.contextCls,n=this.state.isLoading;return(0,L.jsxs)("div",{className:d()(this.baseCls,e),children:[n&&this.renderLoading(),!n&&this.renderImageThumbnail()]})}},{key:"componentDidMount",value:function(){this.loadMedia()}}]),t}(l.PureComponent);Y.defaultProps={isFromOther:!1};var q=Y,Q=t(6389),X=t(3626),J=t(1301),$={UPLOAD_FILE_SIZE_MB_LIMITATION:150,UPLOAD_FILE_TYPE_LIMITATION:"jpg jpeg png",UPLOAD_FILE_WARNING_REASON:{UPLOAD_FILE_WARNING_SIZE:"uploadWarningSize",UPLOAD_FILE_WARNING_TYPE:"uploadWarningType"},MEDIA:"media"},ee=t(8974),ne=["contextCls"],te=["contextCls"],re=["contextCls"],oe=["contextCls"],ae=Z.Z.PRIMARY,se=Z.Z.SECONDARY,ie=function(e){(0,i.Z)(t,e);var n=(0,c.Z)(t);function t(){var e;(0,a.Z)(this,t);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=n.call.apply(n,[this].concat(i))).state={messages:[],messagesFromMe:[],shouldShowCounter:!1,count:0,isSendMessageBtnEnabled:!1,shouldShowTyping:!1,messageToSend:void 0,shouldShowChatWindow:!0,shouldShowConfirmModal:!1,shouldShowErrorWindow:!1,shouldShowChatExpiredWindow:!1,shouldShowChatEndedWindow:!1,shouldShowMinimizedIconButton:!1,scrollToBottom:!1,shouldShowUploadWarningModal:!1,uploadWarningReason:void 0},e.renderConfirmModal=function(){var n=e.props.contextCls,t=[{variant:ae,text:(0,m.i0)("chatWindow.modal.primaryBtn.text"),ariaLabel:(0,m.i0)("chatWindow.modal.primaryBtn.text"),onClick:e.handleModalPrimaryBtnClick},{variant:se,text:(0,m.i0)("chatWindow.modal.secondaryBtn.text"),ariaLabel:(0,m.i0)("chatWindow.modal.secondaryBtn.text"),onClick:e.handleModalSecondaryBtnClick}];return e.webChatChatWindowElement=document.querySelector(".eureka-tile"),(0,L.jsx)(J.Z,{contextCls:d()("".concat(e.baseCls,"__modal-wrapper"),n),modalActions:t,renderTo:e.modalWapperRenderToElement,appElement:e.webChatChatWindowElement,iconName:ee.H.EurekaCircleX,iconType:ee.G.INFO,title:(0,m.i0)("chatWindow.modal.title")})},e.renderErrorPage=function(){var n=e.props,t=(n.contextCls,(0,o.Z)(n,ne)),a=(0,m.i0)("chatWindow.errorPage.title"),s=(0,m.i0)("chatWindow.errorPage.headText"),i=(0,m.i0)("chatWindow.errorPage.subText");return(0,L.jsx)(y.Z,(0,r.Z)((0,r.Z)({},t),{},{contextCls:"".concat(e.baseCls,"__chat-error-window"),icon:E.Z.WARNING,windowTitle:a,headText:s,subText:i}))},e.renderCounter=function(){var n=e.props.msgMaxLength;return(0,L.jsx)("div",{className:"".concat(e.baseCls,"__counter-container"),children:(0,L.jsxs)("span",{children:[e.state.count,"/",n]})})},e.renderActions=function(){var n=e.state.isSendMessageBtnEnabled,t=$.UPLOAD_FILE_TYPE_LIMITATION.split(" ").join(", .");return(0,L.jsxs)("div",{className:"".concat(e.baseCls,"__actions-container"),children:[(0,L.jsx)(_.Z,{contextCls:"".concat(e.baseCls,"__attach-btn"),renderIcon:e.renderAttachIcon,onChange:e.handleFileUpload,onClick:e.handleFileInputClick,fileTypes:".".concat(t)}),(0,L.jsx)(B.Z,{contextCls:"".concat(e.baseCls,"__send-btn"),renderIcon:e.renderArrowUpIcon,onClick:e.handleSendBtnClick,variant:ae,"aria-label":(0,m.i0)("chatWindow.actionsContainer.sendBtnAriaLabel"),isDisabled:!n})]})},e.renderAttachIcon=function(){return(0,L.jsx)(f.Z,{filename:"attach.svg",alt:(0,m.i0)("chatImageBubble.imgAlt.attach")})},e.renderArrowUpIcon=function(){return(0,L.jsx)(T.Z,{})},e.renderAfter=function(){var n=e.state.shouldShowCounter;return(0,L.jsxs)("div",{className:"".concat(e.baseCls,"__after-control-container"),children:[n&&e.renderCounter(),e.renderActions()]})},e.renderUploadWarningModal=function(){var n=e.state.uploadWarningReason,t=[{variant:ae,text:(0,m.i0)("chatWindow.uploadWarningModal.primaryBtn.text"),ariaLabel:(0,m.i0)("chatWindow.uploadWarningModal.primaryBtn.text"),onClick:e.handleUploadModalPrimaryBtnClick}];return e.webChatChatWindowElement=document.querySelector(".eureka-tile"),(0,L.jsx)(J.Z,{contextCls:"".concat(e.baseCls,"__modal-wrapper"),modalActions:t,renderTo:e.modalWapperRenderToElement,appElement:e.webChatChatWindowElement,iconName:ee.H.EurekaTriangleAlert,iconType:ee.G.ERROR,title:(0,m.i0)("chatWindow.uploadWarningModal.title.".concat(n)),message:(0,m.i0)("chatWindow.uploadWarningModal.message.".concat(n))})},e.renderTextBubble=function(n){return n.author===(0,k.OD)()||!n.state?(0,L.jsx)(F,{id:n.sid,text:n.body,index:n.index.toString(),isFailed:n.isFailed,onRetry:e.handleRetryClick,onRemove:e.handleRemoveClick},n.sid||n.index.toString()):(0,L.jsx)(F,{id:n.sid,text:n.body,isTextFromMe:!1},n.sid)},e.renderImageBubble=function(n){var t=n.media,o=Object.assign({},e.props);return n.author===(0,k.OD)()||!n.state?(0,l.createElement)(q,(0,r.Z)((0,r.Z)({},o),{},{key:n.sid||n.index.toString(),index:n.index.toString(),isFailed:n.isFailed,onRetry:e.handleRetryClick,onRemove:e.handleRemoveClick,media:t})):(0,l.createElement)(q,(0,r.Z)((0,r.Z)({},o),{},{key:n.sid,media:t,isFromOther:!0}))},e.renderChatExpiredWindow=function(){var n=e.props,t=(n.contextCls,(0,o.Z)(n,te)),a=(0,m.i0)("chatWindow.title"),s=(0,m.i0)("chatWindow.chatExpiredWindow.headText"),i=(0,m.i0)("chatWindow.chatExpiredWindow.subText");return(0,L.jsx)(y.Z,(0,r.Z)((0,r.Z)({},t),{},{contextCls:"".concat(e.baseCls,"__expired-window"),renderIcon:e.renderClockImage,windowTitle:a,headText:s,subText:i,shouldShowMinimizeBtn:!1}))},e.renderChatEndedWindow=function(){var n=e.props,t=(n.contextCls,(0,o.Z)(n,re)),a=(0,m.i0)("chatWindow.title"),s=(0,m.i0)("chatWindow.chatEndedWindow.headText");return(0,L.jsx)(y.Z,(0,r.Z)((0,r.Z)({},t),{},{contextCls:"".concat(e.baseCls,"__end-chat-window"),windowTitle:a,headText:s,shouldShowMinimizeBtn:!1}))},e.renderClockImage=function(){return(0,L.jsx)(f.Z,{filename:"clock.svg",alt:(0,m.i0)("chatImageBubble.imgAlt.clock")})},e.renderIconButtonChat=function(){return(0,L.jsx)(Q.Z,{contextCls:"".concat(e.baseCls,"__icon-button"),renderSvg:e.renderSvgChat,onClick:e.handleMinimizedIconBtnClick})},e.renderSvgChat=function(){return(0,L.jsx)(f.Z,{filename:"chat.svg",alt:(0,m.i0)("chatImageBubble.imgAlt.chat")})},e.handleUploadModalPrimaryBtnClick=function(){e.setState({shouldShowUploadWarningModal:!1})},e.handleRetryClick=function(n){var t=n.data,r=e.state,o=r.messages,a=r.messagesFromMe,s=o.find((function(e){return e.index===t.index})),i=(0,M.Z)(),c={body:s.body,index:i,isFailed:!1,type:s.type,media:s.media};e.setState({messages:[].concat((0,I.Z)(o.filter((function(e){return e.index!==t.index}))),[c]),messagesFromMe:[].concat((0,I.Z)(a.filter((function(e){return e.index!==t.index}))),[c])},(function(){e.handleSendMessage(c)}))},e.handleRemoveClick=function(n){var t=n.data,r=e.state,o=r.messages,a=r.messagesFromMe;e.setState({messages:(0,I.Z)(o.filter((function(e){return e.index!==t.index}))),messagesFromMe:(0,I.Z)(a.filter((function(e){return e.index!==t.index})))})},e.handleFileInputClick=function(e){e.target.value=""},e.handleFileUpload=function(n){var t=n.e,r=n.files;if(null===r||void 0===r?void 0:r.length){var o=(0,I.Z)(r)[0],a=o.type.split("/");return-1===$.UPLOAD_FILE_TYPE_LIMITATION.indexOf(a[a.length-1])?(t.preventDefault(),void e.setState({uploadWarningReason:$.UPLOAD_FILE_WARNING_REASON.UPLOAD_FILE_WARNING_TYPE,shouldShowUploadWarningModal:!0})):o.size>1024*$.UPLOAD_FILE_SIZE_MB_LIMITATION*1024?(t.preventDefault(),void e.setState({uploadWarningReason:$.UPLOAD_FILE_WARNING_REASON.UPLOAD_FILE_WARNING_SIZE,shouldShowUploadWarningModal:!0})):void e.handleSingleFile(o)}},e.handleSingleFile=function(n){if(n){var t=(0,M.Z)(),r=new FormData;r.append("file",n);var o={body:{contentType:n.type,filename:n.name,media:r},type:$.MEDIA,index:t,isFailed:!1,media:{sid:t,filename:n.name,getContentTemporaryUrl:function(){return Promise.resolve()}}};e.setState((function(e){var n=e.messagesFromMe,t=e.messages;return{messagesFromMe:[].concat((0,I.Z)(n),[o]),messages:[].concat((0,I.Z)(t),[o]),scrollToBottom:!0}}),(function(){e.handleSendMessage(o)}))}},e.handleSendMessage=function(){var n=(0,x.Z)(b().mark((function n(t){return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.setChatExpiredTimeout(),n.prev=1,n.next=4,(0,k.bG)(t);case 4:e.setState((function(e){return{messagesFromMe:e.messagesFromMe.filter((function(e){return e.index!==t.index})),scrollToBottom:!0}})),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),e.setState((function(e){var n=e.messages,r=e.messagesFromMe,o=r.findIndex((function(e){return e.index===t.index}));o>-1&&(r[o].isFailed=!0);var a=n.findIndex((function(e){return e.index===t.index}));return a>-1&&(n[a].isFailed=!0),{messages:n,messagesFromMe:r,scrollToBottom:!0}}));case 10:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e){return n.apply(this,arguments)}}(),e.handleSendBtnClick=function(){var n=e.state,t=n.messages,r=n.messageToSend,o=n.messagesFromMe;if((null===r||void 0===r?void 0:r.length)>0){var a={body:r,index:(0,M.Z)(),isFailed:!1};e.setState({messagesFromMe:[].concat((0,I.Z)(o),[a]),messages:[].concat((0,I.Z)(t),[a]),count:0,isSendMessageBtnEnabled:!1,messageToSend:"",scrollToBottom:!0},(function(){e.handleSendMessage(a)}))}},e.handleResize=function(n){var t=e.props.lineHeight;Math.floor(n.target.scrollHeight/t)>1?e.setState({shouldShowCounter:!0}):e.setState({shouldShowCounter:!1})},e.handleMessageChange=function(){var n=(0,x.Z)(b().mark((function n(t){var r,o,a,s,i,c;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.props.msgMaxLength,o=t.target.value,a=(null===o||void 0===o?void 0:o.length)||0,s=(null===o||void 0===o?void 0:o.trim().replace(/\n/g,"").length)>0,i={isSendMessageBtnEnabled:s},a<=r?(i.count=a,i.messageToSend=t.target.value):(i.count=r,i.messageToSend=t.target.value.slice(0,r)),e.setState(i),n.next=9,(0,k.cc)();case 9:return c=n.sent,n.next=12,c.typing();case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e.handleKeyDown=function(n){var t=e.state.isSendMessageBtnEnabled;13===n.keyCode&&!1===n.shiftKey&&(n.preventDefault(),t&&e.handleSendBtnClick())},e.handleKeyPress=function(n){return e.state.count!==e.props.msgMaxLength||(n.preventDefault(),!1)},e.handleTypingStarted=function(){e.handleTyping(!0)},e.handleTypingEnded=function(){e.handleTyping(!1)},e.handleTyping=function(n){e.setState({shouldShowTyping:n,scrollToBottom:!0})},e.handleCloseBtnClick=function(){e.setState({shouldShowConfirmModal:!0})},e.handleMinimizeBtnClick=function(){e.setState({shouldShowChatWindow:!1,shouldShowMinimizedIconButton:!0})},e.handleMinimizedIconBtnClick=function(){e.setState({shouldShowMinimizedIconButton:!1,shouldShowChatWindow:!0,scrollToBottom:!0})},e.handleMessageAdded=function(n){var t=e.state.messages,r=t.findIndex((function(e){return e.index===(null===n||void 0===n?void 0:n.attributes.index)}));r>-1?t.splice(r,1,n):t.push(n),e.setState({messages:(0,I.Z)(t),scrollToBottom:!0})},e.handleModalPrimaryBtnClick=(0,x.Z)(b().mark((function n(){var t;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.setState({shouldShowConfirmModal:!1,shouldShowChatWindow:!1}),n.prev=1,n.next=4,(0,k.jw)();case 4:n.next=10;break;case 6:n.prev=6,n.t0=n.catch(1),(t=e.props.onChatWidgetClose)&&t();case 10:case"end":return n.stop()}}),n,null,[[1,6]])}))),e.handleModalSecondaryBtnClick=function(){e.setState({shouldShowConfirmModal:!1})},e.handleChatEnded=(0,x.Z)(b().mark((function n(){var t;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.clearChatExpiredTimeOut(),t={shouldShowMinimizedIconButton:!1},e.isEndChatFromChatExpiredTimeout?t.shouldShowChatEndedWindow=!1:(t.shouldShowChatWindow=!1,t.shouldShowChatEndedWindow=!0),e.setState(t);case 4:case"end":return n.stop()}}),n)}))),e.getConversationChatHistory=(0,x.Z)(b().mark((function n(){var t,r,o;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={messages:[],shouldShowErrorWindow:!1,scrollToBottom:!0},n.prev=1,n.next=4,(0,k.cc)();case 4:return r=n.sent,n.next=7,r.getMessages(1e3);case 7:(o=n.sent)&&o.items&&(t.messages=o.items.filter((function(e){return e.type===$.MEDIA||e.body}))),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),t.shouldShowErrorWindow=!0;case 14:return n.prev=14,e.setState(t),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[1,11,14,17]])}))),e.setChatExpiredTimeout=function(){var n=60*e.props.userInactiveInterval*1e3;e.clearChatExpiredTimeOut(),e.chatExpiredTimer=setTimeout((0,x.Z)(b().mark((function n(){return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e.isEndChatFromChatExpiredTimeout=!0,n.next=4,(0,k.jw)();case 4:return n.prev=4,e.setState({shouldShowChatWindow:!1,shouldShowMinimizedIconButton:!1,shouldShowChatEndedWindow:!1,shouldShowChatExpiredWindow:!0}),n.finish(4);case 7:case"end":return n.stop()}}),n,null,[[0,,4,7]])}))),n)},e.clearChatExpiredTimeOut=function(){e.chatExpiredTimer&&clearTimeout(e.chatExpiredTimer)},e.attachConversationEvents=(0,x.Z)(b().mark((function n(){var t;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,k.cc)();case 2:return(t=n.sent).on(S.ri.messageAdded,e.handleMessageAdded),t.on(S.ri.typingStarted,e.handleTypingStarted),t.on(S.ri.typingEnded,e.handleTypingEnded),n.next=8,(0,k.s3)();case 8:n.sent.on(S.KU.conversationLeft,e.handleChatEnded);case 10:case"end":return n.stop()}}),n)}))),e.detachConversationEvents=(0,x.Z)(b().mark((function n(){var t;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,k.cc)();case 2:return(t=n.sent).off(S.ri.messageAdded,e.handleMessageAdded),t.off(S.ri.typingStarted,e.handleTypingStarted),t.off(S.ri.typingEnded,e.handleTypingEnded),n.next=8,(0,k.s3)();case 8:n.sent.off(S.KU.conversationLeft,e.handleChatEnded);case 10:case"end":return n.stop()}}),n)}))),e.scrollToBottom=function(){var n=document.getElementsByClassName("".concat(e.baseCls,"__messages-container"))[0];n&&(n.scrollTop=n.scrollHeight),e.setState({scrollToBottom:!1})},e.modalWapperRenderToElement=function(){return e.webChatChatWindowElement},e.baseCls="web-chat-window",e}return(0,s.Z)(t,[{key:"render",value:function(){var e=this.props.contextCls,n=this.state,t=n.shouldShowChatWindow,r=n.shouldShowConfirmModal,o=n.shouldShowErrorWindow,a=n.shouldShowChatExpiredWindow,s=n.shouldShowChatEndedWindow,i=n.shouldShowUploadWarningModal,c=n.shouldShowMinimizedIconButton;return(0,L.jsxs)("div",{className:d()(this.baseCls,e),children:[t&&this.renderChatWindow(),r&&this.renderConfirmModal(),o&&this.renderErrorPage(),a&&this.renderChatExpiredWindow(),s&&this.renderChatEndedWindow(),i&&this.renderUploadWarningModal(),c&&this.renderIconButtonChat()]})}},{key:"componentDidUpdate",value:function(e,n){var t=this.state.scrollToBottom;!1===n.scrollToBottom&&!0===t&&this.scrollToBottom()}},{key:"componentDidMount",value:function(){this.getConversationChatHistory(),this.attachConversationEvents(),this.webChatChatWindowElement=document.querySelector(".eureka-tile"),this.setChatExpiredTimeout()}},{key:"componentWillUnmount",value:function(){this.detachConversationEvents(),this.clearChatExpiredTimeOut()}},{key:"renderChatWindow",value:function(){var e=this,n=this.props,t=(n.contextCls,(0,o.Z)(n,oe)),a=this.state,s=a.messages,i=a.shouldShowTyping,c=a.messageToSend;return(0,L.jsx)(g.Z,(0,r.Z)((0,r.Z)({},t),{},{contextCls:"".concat(this.baseCls,"__chat-window-container"),title:(0,m.i0)("chatWindow.title"),shouldShowCloseBtn:!0,shouldShowMinimizeBtn:!0,onCloseBtnClick:this.handleCloseBtnClick,onMinimizeBtnClick:this.handleMinimizeBtnClick,children:(0,L.jsxs)("div",{className:"".concat(this.baseCls,"__chat-text-container"),children:[(0,L.jsxs)("div",{className:"".concat(this.baseCls,"__messages-container"),children:[s.map((function(n){return n.type===$.MEDIA?e.renderImageBubble(n):e.renderTextBubble(n)})),i&&(0,L.jsx)(U,{})]}),(0,L.jsx)("div",{className:"".concat(this.baseCls,"__send-message-container"),children:(0,L.jsx)(X.Z,{contextCls:"".concat(this.baseCls,"__message-input"),placeholder:(0,m.i0)("chatWindow.messageInputPlaceholder"),"aria-label":(0,m.i0)("chatWindow.messageInputAriaLabel"),onResize:this.handleResize,onChange:this.handleMessageChange,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,renderAfterControl:this.renderAfter,value:c})})]})}))}}]),t}(l.PureComponent);ie.defaultProps={msgMaxLength:280,lineHeight:27,onChatWidgetClose:function(){return Promise.resolve()}};var ce=ie,le=["contextCls"],ue=["contextCls"],de=["contextCls"],he=Z.Z.PRIMARY,pe=Z.Z.SECONDARY,Ce=function(e){(0,i.Z)(t,e);var n=(0,c.Z)(t);function t(){var e;(0,a.Z)(this,t);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=n.call.apply(n,[this].concat(i))).state={shouldShowConnectingPage:!0,shouldShowErrorPage:!1,shouldShowChatWindowPage:!1,shouldShowIconButtonChat:!1,shouldShowConfirmModal:!1,isConnectingSuccess:!1},e.renderConnectingPage=function(){var n=e.props,t=(n.contextCls,(0,o.Z)(n,le)),a=(0,m.i0)("chatConnectingWindow.connectingPage.title");return(0,L.jsx)(y.Z,(0,r.Z)((0,r.Z)({},t),{},{contextCls:"".concat(e.baseCls,"__chat-connecting-window"),renderIcon:e.renderWriteMessageIcon,headText:a,shouldShowMinimizeBtn:!0,onMinimizeBtnClick:e.handleMinimizeBtnClick,onCloseBtnClick:e.handleCloseBtnClick}))},e.renderChatWindowPage=function(){var n=e.props,t=(n.contextCls,(0,o.Z)(n,ue));return(0,L.jsx)(ce,(0,r.Z)((0,r.Z)({},t),{},{contextCls:"".concat(e.baseCls,"__chat-window"),shouldShowMinimizeBtn:!0}))},e.renderErrorPage=function(){var n=e.props,t=(n.contextCls,(0,o.Z)(n,de)),a=(0,m.i0)("chatConnectingWindow.errorPage.title"),s=(0,m.i0)("chatConnectingWindow.errorPage.text"),i=(0,m.i0)("chatConnectingWindow.errorPage.subText");return(0,L.jsx)(y.Z,(0,r.Z)((0,r.Z)({},t),{},{contextCls:"".concat(e.baseCls,"__chat-error-window"),icon:E.Z.WARNING,windowTitle:a,headText:s,subText:i}))},e.renderConfirmModal=function(){var n=e.props.contextCls,t=[{variant:he,text:(0,m.i0)("chatWindow.modal.primaryBtn.text"),ariaLabel:(0,m.i0)("chatWindow.modal.primaryBtn.text"),onClick:e.handleModalPrimaryBtnClick},{variant:pe,text:(0,m.i0)("chatWindow.modal.secondaryBtn.text"),ariaLabel:(0,m.i0)("chatWindow.modal.secondaryBtn.text"),onClick:e.handleModalSecondaryBtnClick}];return e.webChatChatWindowElement=document.querySelector(".eureka-tile"),(0,L.jsx)(J.Z,{contextCls:d()("".concat(e.baseCls,"__modal-wrapper"),n),modalActions:t,renderTo:e.modalWapperRenderToElement,appElement:e.webChatChatWindowElement,iconName:ee.H.EurekaCircleX,iconType:ee.G.INFO,title:(0,m.i0)("chatWindow.modal.title")})},e.renderWriteMessageIcon=function(){var e=(0,m.i0)("chatConnectingWindow.imgAlt.writeAMessage");return(0,L.jsx)(f.Z,{filename:"write-a-message.svg",alt:e})},e.renderSvgChat=function(){var e=(0,m.i0)("chatConnectingWindow.imgAlt.chat");return(0,L.jsx)(f.Z,{filename:"chat.svg",alt:e})},e.renderIconButtonChat=function(){return(0,L.jsx)(Q.Z,{contextCls:"".concat(e.baseCls,"__chat-icon-button"),renderSvg:e.renderSvgChat,onClick:e.handleMaximizeBtnClick})},e.handleJoined=function(){var n=e.state,t=n.shouldShowIconButtonChat,r=n.shouldShowConfirmModal,o={isConnectingSuccess:!0,shouldShowConnectingPage:!1,shouldShowErrorPage:!1,shouldShowChatWindowPage:!1,shouldShowIconButtonChat:!1,shouldShowConfirmModal:!1};t?o.shouldShowIconButtonChat=!0:r?(o.shouldShowConfirmModal=!0,o.shouldShowConnectingPage=!0):o.shouldShowChatWindowPage=!0,e.setState(o)},e.handleError=function(){e.setState({shouldShowConnectingPage:!1,shouldShowErrorPage:!0,shouldShowChatWindowPage:!1,shouldShowIconButtonChat:!1})},e.handleMinimizeBtnClick=function(){e.setState({shouldShowConnectingPage:!1,shouldShowErrorPage:!1,shouldShowChatWindowPage:!1,shouldShowIconButtonChat:!0})},e.handleMaximizeBtnClick=function(){var n={shouldShowConnectingPage:!1,shouldShowErrorPage:!1,shouldShowChatWindowPage:!1,shouldShowIconButtonChat:!1};e.state.isConnectingSuccess?n.shouldShowChatWindowPage=!0:n.shouldShowConnectingPage=!0,e.setState(n)},e.handleModalPrimaryBtnClick=(0,x.Z)(b().mark((function n(){var t,r;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.setState({shouldShowConfirmModal:!1,shouldShowConnectingPage:!1}),t=e.state.isConnectingSuccess,n.prev=2,!t){n.next=6;break}return n.next=6,(0,k.jw)();case 6:return n.prev=6,(r=e.props.onChatWidgetClose)&&r(),n.finish(6);case 10:case"end":return n.stop()}}),n,null,[[2,,6,10]])}))),e.handleModalSecondaryBtnClick=function(){var n={shouldShowConfirmModal:!1,shouldShowChatWindowPage:!1,shouldShowConnectingPage:!1};e.state.isConnectingSuccess?n.shouldShowChatWindowPage=!0:n.shouldShowConnectingPage=!0,e.setState(n)},e.handleCloseBtnClick=function(){e.setState({shouldShowConfirmModal:!0})},e.initConversation=(0,x.Z)(b().mark((function n(){var t,r;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,k.cc)();case 3:return t=n.sent,n.next=6,t.getAttributes();case 6:if(r=n.sent,!r.taskSid){n.next=12;break}e.handleJoined(),n.next=15;break;case 12:return n.next=14,e.sendInitMessage();case 14:t.on(S.ri.participantJoined,e.handleJoined);case 15:n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0),e.handleError();case 20:case"end":return n.stop()}}),n,null,[[0,17]])}))),e.sendInitMessage=(0,x.Z)(b().mark((function e(){var n,t;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,M.Z)(),t={body:"",index:n,isFailed:!1},e.next=4,(0,k.bG)(t);case 4:case"end":return e.stop()}}),e)}))),e.detachConversationEvents=(0,x.Z)(b().mark((function n(){return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,k.cc)();case 3:n.sent.off(S.ri.participantJoined,e.handleJoined),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),e.handleError();case 10:case"end":return n.stop()}}),n,null,[[0,7]])}))),e.modalWapperRenderToElement=function(){return e.webChatChatWindowElement},e.baseCls="web-chat-connecting-window",e}return(0,s.Z)(t,[{key:"render",value:function(){var e=this.state,n=e.shouldShowConnectingPage,t=e.shouldShowErrorPage,r=e.shouldShowChatWindowPage,o=e.shouldShowIconButtonChat,a=e.shouldShowConfirmModal,s=this.props.contextCls;return(0,L.jsxs)("div",{className:d()(this.baseCls,s),children:[n&&this.renderConnectingPage(),r&&this.renderChatWindowPage(),t&&this.renderErrorPage(),o&&this.renderIconButtonChat(),a&&this.renderConfirmModal()]})}},{key:"componentDidMount",value:function(){this.initConversation(),this.webChatChatWindowElement=document.querySelector(".eureka-tile")}},{key:"componentWillUnmount",value:function(){this.detachConversationEvents()}}]),t}(l.PureComponent);Ce.defaultProps={onChatWidgetClose:function(){return Promise.resolve()}};var me=Ce,ge=["contextCls"],fe=["contextCls"],ve=["contextCls"],xe=function(e){(0,i.Z)(t,e);var n=(0,c.Z)(t);function t(e){var s;(0,a.Z)(this,t),(s=n.call(this,e)).state={shouldShowChooseOptionWindow:!0,shouldShowConnectingPage:!1,shouldShowLeaveMessagePage:!1},s.renderChooseOptionWindow=function(){var e=s.props,n=(e.contextCls,(0,o.Z)(e,ge));return(0,L.jsxs)(g.Z,(0,r.Z)((0,r.Z)({},n),{},{contextCls:"".concat(s.baseCls,"__choose-option"),shouldShowCloseBtn:!0,children:[s.renderCallout(),s.renderOptions()]}))},s.renderCallout=function(){var e=s.props.contextCls,n=(0,m.i0)("chooseOptionWindow.title");return(0,L.jsx)(C.Z,{contextCls:d()("".concat(s.baseCls,"__header-container"),e),renderIcon:s.renderSvg,title:n})},s.renderConnectingPage=function(){var e=s.props,n=(e.contextCls,(0,o.Z)(e,fe));return(0,L.jsx)(me,(0,r.Z)((0,r.Z)({},n),{},{contextCls:"".concat(s.baseCls,"__connecting")}))},s.renderLeaveMessagePage=function(){var e=s.props,n=(e.contextCls,(0,o.Z)(e,ve));return(0,L.jsx)(v.Z,(0,r.Z)((0,r.Z)({},n),{},{contextCls:"".concat(s.baseCls,"__leave-message")}))},s.renderSvg=function(){var e=s.props.contextCls;return(0,L.jsx)(f.Z,{filename:"help.svg",alt:(0,m.i0)("chooseOptionWindow.imgAlt.help"),contextCls:d()("".concat(s.baseCls,"__header-container-svg"),e)})},s.renderOptions=function(){var e=s.props.contextCls,n=s.getOptionTranslations(),t=[{id:n.supportOptionId,meta:s.isLoggedIn?n.supportOptionLoggedInMeta:n.supportOptionNotLoggedInMeta,text:s.isLoggedIn?n.supportOptionLoggedInText:n.supportOptionNotLoggedInText,handleClick:s.handleSupportOptionClick,renderIcon:s.renderSupportSvg},{id:n.messageOptionId,text:n.messageOptionText,meta:n.messageOptionMeta,handleClick:s.handleMessageOptionClick,renderIcon:s.renderMessageSvg}];return(0,L.jsx)(h.Z,{contextCls:d()("".concat(s.baseCls,"__content-container"),e),data:t,renderListItem:s.renderOptionsListItem})},s.renderOptionsListItem=function(e){return(0,L.jsx)(p.Z,{contextCls:"".concat(s.baseCls,"__").concat(e.id),text:e.text,meta:e.meta,onClick:e.handleClick,renderIcon:e.renderIcon,isInteractive:!0,shouldRenderAfterIcon:!0})},s.renderSupportSvg=function(){return(0,L.jsx)(f.Z,{filename:"support.svg",alt:(0,m.i0)("chooseOptionWindwo.imgAlt.support"),contextCls:"".concat(s.baseCls,"__svg-container")})},s.renderMessageSvg=function(){return(0,L.jsx)(f.Z,{filename:"message.svg",alt:(0,m.i0)("chooseOptionWindwo.imgAlt.message"),contextCls:"".concat(s.baseCls,"__svg-container")})},s.handleSupportOptionClick=function(){if(s.isLoggedIn)s.setState({shouldShowChooseOptionWindow:!1,shouldShowConnectingPage:!0,shouldShowLeaveMessagePage:!1});else{var e=s.props.loginUrl;e&&(window.location.href=e)}},s.handleMessageOptionClick=function(){s.setState({shouldShowChooseOptionWindow:!1,shouldShowConnectingPage:!1,shouldShowLeaveMessagePage:!0})},s.getOptionTranslations=function(){var e=s.props,n=e.ewt,t=e.longWaitThresholdMinutes,r=(0,m.i0)("chooseOptionWindow.resourceListItem.supportOptionLongEwtMeta"),o=(0,m.i0)("chooseOptionWindow.resourceListItem.supportOptionShortEwtMeta"),a=n>t?r:!!o&&o.replace("{ewt}",n);return{supportOptionLongEwtMeta:r,supportOptionShortEwtMeta:o,supportOptionLoggedInMeta:a,supportOptionNotLoggedInMeta:(0,m.i0)("chooseOptionWindow.resourceListItem.supportOptionNoEwtMeta"),supportOptionNotLoggedInText:(0,m.i0)("chooseOptionWindow.resourceListItem.supportOptionNoEwtText"),supportOptionLoggedInText:(0,m.i0)("chooseOptionWindow.resourceListItem.supportOptionEwtText"),messageOptionMeta:(0,m.i0)("chooseOptionWindow.resourceListItem.messageOptionMeta"),messageOptionText:(0,m.i0)("chooseOptionWindow.resourceListItem.messageOptionText"),supportOptionId:(0,m.i0)("chooseOptionWindow.resourceListItem.supportOptionId"),messageOptionId:(0,m.i0)("chooseOptionWindow.resourceListItem.messageOptionId")}},s.baseCls="web-chat-choose-option-window";var i=e.accountIdentifier;return s.isLoggedIn=!!i,s}return(0,s.Z)(t,[{key:"render",value:function(){var e=this.props.contextCls,n=this.state,t=n.shouldShowChooseOptionWindow,r=n.shouldShowConnectingPage,o=n.shouldShowLeaveMessagePage;return(0,L.jsxs)("div",{className:d()(this.baseCls,e),children:[r&&this.renderConnectingPage(),o&&this.renderLeaveMessagePage(),t&&this.renderChooseOptionWindow()]})}}]),t}(l.PureComponent);xe.defaultProps={longWaitThresholdMinutes:10};var we=xe},6202:function(e,n,t){t.d(n,{Z:function(){return w}});var r=t(1413),o=t(4925),a=t(5671),s=t(3144),i=t(9340),c=t(5716),l=t(2672),u=t(1694),d=t.n(u),h=t(3748),p=t(877),C=t(6746),m=t(5996),g=t(2515),f=t(184),v=["contextCls","windowTitle","headText","subText"],x=function(e){(0,i.Z)(t,e);var n=(0,c.Z)(t);function t(){var e;(0,a.Z)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=n.call.apply(n,[this].concat(o))).renderSvg=function(){var n=e.props,t=n.icon,r=n.renderIcon;if(r)return r();var o=(0,p.i0)("genericMessage.imgAlt.warningAlert"),a=(0,p.i0)("genericMessage.imgAlt.success");return t===m.Z.WARNING?(0,f.jsx)(g.Z,{filename:"warning-alert.svg",alt:o}):(0,f.jsx)(g.Z,{filename:"success.svg",alt:a})},e.baseCls="web-chat-generic-message",e}return(0,s.Z)(t,[{key:"render",value:function(){var e=this.props,n=e.contextCls,t=e.windowTitle,a=e.headText,s=e.subText,i=(0,o.Z)(e,v);return(0,f.jsx)(C.Z,(0,r.Z)((0,r.Z)({},i),{},{contextCls:d()(this.baseCls,n),title:t,shouldShowCloseBtn:!0,children:(0,f.jsx)(h.Z,{contextCls:d()("".concat(this.baseCls,"__message-content"),n),renderIcon:this.renderSvg,title:a,msg:s})}))}}]),t}(l.PureComponent);x.defaultProps={shouldShowMinimizeBtn:!1};var w=x},5996:function(e,n){n.Z={WARNING:"WarningAlert",SUCCESS:"Success"}},6472:function(e,n,t){t.d(n,{Z:function(){return M}});var r=t(1413),o=t(4925),a=t(5671),s=t(3144),i=t(9340),c=t(5716),l=t(2672),u=t(1694),d=t.n(u),h=t(3748),p=t(537),C=t(813),m=t(877),g=t(6746),f=t(3356),v=t(2515),x=t(184),w=["contextCls","hoop","isLeaveAgentMessageEnabled"],b=["contextCls"],S=p.Z.SECONDARY,Z=function(e){(0,i.Z)(t,e);var n=(0,c.Z)(t);function t(){var e;(0,a.Z)(this,t);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=n.call.apply(n,[this].concat(i))).state={shouldShowHoopWindow:!0,shouldShowLeaveMessageWindow:!1},e.renderClockIcon=function(){return(0,x.jsx)(v.Z,{filename:"clock.svg",alt:(0,m.i0)("hoop.imgAlt.clock")})},e.renderHoopWindow=function(){var n=e.props,t=(n.contextCls,n.hoop),a=n.isLeaveAgentMessageEnabled,s=(0,o.Z)(n,w),i="".concat((0,m.i0)("hoop.hoopMessage")).replace("{hoop}",t),c=a?(0,m.i0)("hoop.hoopMessage.leaveAgentMsgEnabled"):(0,m.i0)("hoop.hoopMessage.leaveAgentMsgNotEnabled"),l=a;return(0,x.jsx)(g.Z,(0,r.Z)((0,r.Z)({},s),{},{contextCls:"".concat(e.baseCls,"__hoop"),shouldShowCloseBtn:!0,onCloseBtnClick:e.handleCloseBtnClick,shouldCloseWindowContainer:!e.state.shouldShowHoopWindow,children:(0,x.jsxs)("div",{className:"".concat(e.baseCls,"__hoop-content"),children:[(0,x.jsx)(h.Z,{renderIcon:e.renderClockIcon,title:i,msg:c}),l&&e.renderLeaveMessageBtn()]})}))},e.renderLeaveMessageBtn=function(){return(0,x.jsx)(C.Z,{contextCls:d()("".concat(e.baseCls,"__leave-message-btn")),text:(0,m.i0)("hoop.leaveMsgBtn.text"),variant:S,onClick:e.handleLeaveMessageBtnClick,"aria-label":(0,m.i0)("hoop.leaveMsgBtn.text")})},e.renderLeaveMessageWindow=function(){var n=e.props,t=(n.contextCls,(0,o.Z)(n,b));return(0,x.jsx)(f.Z,(0,r.Z)((0,r.Z)({},t),{},{contextCls:"".concat(e.baseCls,"__leave-message"),onMessageSent:e.handleMessageSent}))},e.handleLeaveMessageBtnClick=function(){e.setState({shouldShowHoopWindow:!1,shouldShowLeaveMessageWindow:!0})},e.baseCls="web-chat-hoop",e}return(0,s.Z)(t,[{key:"render",value:function(){var e=this.state,n=e.shouldShowHoopWindow,t=e.shouldShowLeaveMessageWindow,r=this.props.contextCls;return(0,x.jsxs)("div",{className:d()(this.baseCls,r),children:[n&&this.renderHoopWindow(),t&&this.renderLeaveMessageWindow()]})}}]),t}(l.PureComponent),M=Z},6389:function(e,n,t){t.d(n,{Z:function(){return S}});var r=t(5861),o=t(4942),a=t(5671),s=t(3144),i=t(9340),c=t(5716),l=t(7757),u=t.n(l),d=t(2672),h=t(1694),p=t.n(h),C=t(877),m=t(537),g=t(813),f=t(7996),v=t(4113),x=t(184),w=m.Z.SECONDARY,b=function(e){(0,i.Z)(t,e);var n=(0,c.Z)(t);function t(){var e;(0,a.Z)(this,t);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=n.call.apply(n,[this].concat(i))).state={unreadMessageCount:0},e.renderIconButton=function(){var n=(0,C.i0)("iconButtonChat.buttonText"),t=(0,C.i0)("iconButtonChat.buttonAriaLabel");return(0,x.jsx)(g.Z,{contextCls:p()("".concat(e.baseCls,"__icon-btn-chat")),renderIcon:e.renderSvgIcon,onClick:e.handleClick,variant:w,text:n,"aria-label":t})},e.renderCounter=function(){var n=e.getModCls();return(0,x.jsx)("div",{className:p()("".concat(e.baseCls,"__count"),n),"data-count":e.state.unreadMessageCount})},e.renderSvgIcon=function(){return(0,e.props.renderSvg)()},e.handleClick=function(){(0,e.props.onClick)()},e.handleMessageAdd=function(){var n=e.state.unreadMessageCount;e.setState({unreadMessageCount:n+1})},e.getModCls=function(){var n=e.props.shouldShowUnreadCount;return(0,o.Z)({},"".concat(e.baseCls,"__count-number"),n)},e.attachConversationEvent=(0,r.Z)(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,v.cc)();case 2:n.sent.on(f.ri.messageAdded,e.handleMessageAdd);case 4:case"end":return n.stop()}}),n)}))),e.detachConversationEvent=(0,r.Z)(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,v.cc)();case 2:n.sent.off(f.ri.messageAdded,e.handleMessageAdd);case 4:case"end":return n.stop()}}),n)}))),e.baseCls="icon-button-chat",e}return(0,s.Z)(t,[{key:"render",value:function(){var e=this.props.contextCls;return(0,x.jsx)("div",{className:p()("".concat(this.baseCls),e),children:(0,x.jsxs)("div",{className:"".concat(this.baseCls,"__container"),children:[this.renderIconButton(),this.renderCounter()]})})}},{key:"componentDidMount",value:function(){this.attachConversationEvent()}},{key:"componentWillUnmount",value:function(){this.detachConversationEvent()}}]),t}(d.PureComponent);b.defaultProps={onClick:function(){return Promise.resolve()},renderSvg:function(){}};var S=b},2515:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(1413),o=t(4925),a=t(5671),s=t(3144),i=t(9340),c=t(5716),l=t(2672),u=t(1694),d=t.n(u),h=t(9551),p=t(2496),C=t(9468),m=t(184),g=["filename","alt","contextCls"],f=function(e){(0,i.Z)(t,e);var n=(0,c.Z)(t);function t(){var e;(0,a.Z)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=n.call.apply(n,[this].concat(o))).state={isSrcError:!1},e.handleImageError=function(){e.setState({isSrcError:!0})},e.getRelativeImageUrl=function(e,n){var t=e.toLowerCase(),r=e.toUpperCase();return"/resources/".concat(t,"/").concat(C.n6[r],"/media/images/").concat(n)},e.getFullImageUrl=function(){var n=e.props.filename,t=h.Z.Brand;return e.determinedImagePrefixUrl()+e.getRelativeImageUrl(t,n)},e.getFallbackImageUrl=function(){var n=e.props.filename;return e.determinedImagePrefixUrl()+e.getRelativeImageUrl("go2bank",n)},e.determinedImagePrefixUrl=function(){return(0,p.vM)()},e.baseCls="webchat-img",e}return(0,s.Z)(t,[{key:"render",value:function(){var e=this.props,n=(e.filename,e.alt),t=e.contextCls,a=(0,o.Z)(e,g),s=this.state.isSrcError;return(0,m.jsx)("img",(0,r.Z)({src:s?this.getFallbackImageUrl():this.getFullImageUrl(),alt:null!==n&&void 0!==n?n:"",className:d()(this.baseCls,t),onError:this.handleImageError},a))}}]),t}(l.Component)},3356:function(e,n,t){t.d(n,{Z:function(){return j}});var r=t(5861),o=t(1413),a=t(4925),s=t(5671),i=t(3144),c=t(9340),l=t(5716),u=t(7757),d=t.n(u),h=t(2672),p=t(1694),C=t.n(p),m=t(877),g=t(537),f=t(813),v=t(3748),x=t(8427),w=t(9371),b=t(6746),S=t(6202),Z=t(3626),M=t(1301),E=t(5996),y=t(2515),k=t(3170),I=t(8974),_="Website",B=t(184),T=["contextCls"],A=(0,x.Z)(w.Z),W=g.Z.PRIMARY,L=g.Z.SECONDARY,O=function(e){(0,c.Z)(t,e);var n=(0,l.Z)(t);function t(){var e;(0,s.Z)(this,t);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return(e=n.call.apply(n,[this].concat(c))).state={shouldShowLeaveMessageWindow:!0,shouldShowMessageSentWindow:!1,value:"",isSendMsgBtnEnabled:!1,shouldShowErrorMsg:!1,userEmail:"",shouldShowConfirmModal:!1,shouldShowCounter:!1,count:0,shouldShowEmailError:!1,shouldShowEmailInput:!1},e.renderAirplaneIcon=function(){return(0,B.jsx)(y.Z,{filename:"paper-airplane.svg",alt:(0,m.i0)("leaveMessage.imgAlt.paperAirplan")})},e.renderLeaveMessageWindow=function(){var n=e.props,t=n.contextCls,r=n.leaveAgentMessage,o=e.state,a=o.value,s=o.shouldShowErrorMsg,i=o.isSendMsgBtnEnabled,c=o.shouldShowEmailInput,l=e.state,u=l.userEmail,d=l.shouldShowEmailError;return(0,B.jsx)(b.Z,{contextCls:"".concat(e.baseCls,"__leave-message"),shouldShowCloseBtn:!0,onCloseBtnClick:e.handleLeaveMsgCloseBtnClick,children:(0,B.jsxs)("div",{className:C()("".concat(e.baseCls,"__leave-message-content"),t),children:[(0,B.jsx)(v.Z,{renderIcon:e.renderAirplaneIcon,title:(0,m.i0)("leaveMessage.calloutTitle"),msg:r}),c&&(0,B.jsx)(A,{contextCls:"".concat(e.baseCls,"__email-input"),placeholder:(0,m.i0)("leaveMessage.emailInputText"),value:u,maxLength:50,onChange:e.handleUserEmailChange,"aria-label":(0,m.i0)("leaveMessage.emailInputText"),labelProps:{labelText:(0,m.i0)("leaveMessage.emailInputText")},errorProps:{errorText:d?(0,m.i0)("leaveMessage.emailInputText.formatErrorMsg"):""},hasError:d}),(0,B.jsx)(Z.Z,{contextCls:"".concat(e.baseCls,"__message-input"),placeholder:(0,m.i0)("leaveMessage.messageInputText"),"aria-label":(0,m.i0)("leaveMessage.messageInputAriaLabel"),labelProps:{labelText:(0,m.i0)("leaveMessage.messageInputText")},value:a,onChange:e.handleMessageChange,rows:3,renderAfterControl:e.renderAfter}),s&&(0,B.jsx)("p",{className:"".concat(e.baseCls,"__error-msg"),children:(0,m.i0)("leaveMessage.errorMsg")}),(0,B.jsx)(f.Z,{contextCls:"".concat(e.baseCls,"__send-msg-btn"),text:(0,m.i0)("leaveMessage.sendMessageBtnText"),variant:W,onClick:e.handleSendMsgBtnClick,"aria-label":(0,m.i0)("leaveMessage.sendMessageBtnText"),isDisabled:!i})]})})},e.renderAfter=function(){var n=e.state.shouldShowCounter;return(0,B.jsx)("div",{className:"".concat(e.baseCls,"__after-control-container"),children:n&&e.renderCounter()})},e.renderCounter=function(){var n=e.props.msgMaxLength,t=e.state.count;return(0,B.jsx)("div",{className:"".concat(e.baseCls,"__counter-container"),children:(0,B.jsxs)("span",{children:[t,"/",n]})})},e.renderMessageSentWindow=function(){var n=e.props,t=(n.contextCls,(0,a.Z)(n,T)),r=(0,m.i0)("leaveMessage.messageSend.title"),s=(0,m.i0)("leaveMessage.messageSend.subText");return(0,B.jsx)(S.Z,(0,o.Z)((0,o.Z)({},t),{},{contextCls:"".concat(e.baseCls,"__message-sent"),icon:E.Z.SUCCESS,headText:r,subText:s}))},e.renderConfirmModal=function(){var n=e.props.contextCls,t=[{variant:W,text:(0,m.i0)("leaveMessage.modal.primaryBtn.text"),ariaLabel:(0,m.i0)("leaveMessage.modal.primaryBtn.text"),onClick:e.handlePrimaryBtnClick},{variant:L,text:(0,m.i0)("leaveMessage.modal.secondaryBtn.text"),ariaLabel:(0,m.i0)("leaveMessage.modal.secondaryBtn.text"),onClick:e.handleSecondaryBtnClick}];return(0,B.jsx)(M.Z,{contextCls:C()("".concat(e.baseCls,"__modal-wrapper"),n),modalActions:t,renderTo:e.modalWapperRenderToElement,appElement:e.webChatLeaveMessageElement,iconName:I.H.EurekaCircleX,iconType:I.G.INFO,title:(0,m.i0)("leaveMessage.modal.title"),message:(0,m.i0)("leaveMessage.modal.message")})},e.handlePrimaryBtnClick=function(){var n=e.props.onChatWidgetClose;e.setState({shouldShowLeaveMessageWindow:!1,shouldShowConfirmModal:!1}),n&&n()},e.handleSecondaryBtnClick=function(){e.setState({shouldShowConfirmModal:!1})},e.handleLeaveMsgCloseBtnClick=function(){e.setState({shouldShowConfirmModal:!0})},e.handleSendMsgBtnClick=(0,r.Z)(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.setState({isSendMsgBtnEnabled:!1,shouldShowErrorMsg:!1}),n.next=3,e.submitMessage();case 3:case"end":return n.stop()}}),n)}))),e.handleMessageChange=function(n){var t=n.target.value,r=e.props,o=r.accountIdentifier,a=r.msgMinLength,s=e.state.userEmail,i=o||s;e.setState({value:t,isSendMsgBtnEnabled:i&&t.length>=a,shouldShowCounter:t.length>0,count:t.length})},e.handleUserEmailChange=function(n){var t=e.props.msgMinLength,r=n.target.value.trim(),o=r.length>0,a=e.state.value;e.setState({userEmail:r,isSendMsgBtnEnabled:o&&a&&a.length>=t,shouldShowEmailError:!1})},e.setShowEmailInput=function(){var n=e.props.accountIdentifier;e.setState({shouldShowEmailInput:!n})},e.checkEmail=function(n){return!!/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+[.][a-zA-Z]{2,6}$/.test(n)||(e.setState({isSendMsgBtnEnabled:!1,shouldShowEmailError:!0}),!1)},e.submitMessage=(0,r.Z)(d().mark((function n(){var t,r,o,a,s,i,c;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t={isSendMsgBtnEnabled:!1,shouldShowErrorMsg:!1},r=e.state,o=r.userEmail,a=r.value,s=r.shouldShowEmailInput,i=e.props.accountIdentifier,!(s&&o.length>0)){n.next=6;break}if(e.checkEmail(o)){n.next=6;break}return n.abrupt("return");case 6:return n.prev=6,c={account:i,email:o,deviceType:_,message:a.trim()},n.next=10,(0,k.m$)(c);case 10:n.sent.isSuccess?(t.shouldShowLeaveMessageWindow=!1,t.shouldShowMessageSentWindow=!0):(t.shouldShowErrorMsg=!0,t.isSendMsgBtnEnabled=!0),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(6),t.shouldShowErrorMsg=!0,t.isSendMsgBtnEnabled=!0;case 18:return n.prev=18,e.setState(t),n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[6,14,18,21]])}))),e.modalWapperRenderToElement=function(){return e.webChatLeaveMessageElement},e.baseCls="web-chat-leave-message",e}return(0,i.Z)(t,[{key:"render",value:function(){var e=this.state,n=e.shouldShowLeaveMessageWindow,t=e.shouldShowMessageSentWindow,r=e.shouldShowConfirmModal,o=this.props.contextCls;return(0,B.jsxs)("div",{className:C()(this.baseCls,o),children:[n&&this.renderLeaveMessageWindow(),t&&this.renderMessageSentWindow(),r&&this.renderConfirmModal()]})}},{key:"componentDidMount",value:function(){this.webChatLeaveMessageElement=document.querySelector(".eureka-tile"),this.setShowEmailInput()}}]),t}(h.PureComponent);O.defaultProps={onChatWidgetClose:function(){return Promise.resolve()},msgMaxLength:280,msgMinLength:1,lineHeight:27};var j=O},2889:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(1413),o=t(4925),a=t(5671),s=t(3144),i=t(9340),c=t(5716),l=t(2672),u=t(1694),d=t.n(u),h=t(7845),p=t(6746),C=t(184),m=["contextCls","title","msg","shouldShowCloseBtn"],g=function(e){(0,i.Z)(t,e);var n=(0,c.Z)(t);function t(){var e;(0,a.Z)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=n.call.apply(n,[this].concat(o))).baseCls="web-chat-loading",e}return(0,s.Z)(t,[{key:"render",value:function(){var e=this.props,n=e.contextCls,t=e.title,a=e.msg,s=e.shouldShowCloseBtn,i=(0,o.Z)(e,m);return(0,C.jsx)(p.Z,(0,r.Z)((0,r.Z)({},i),{},{contextCls:d()(this.baseCls,n),shouldShowCloseBtn:s,children:(0,C.jsx)(h.Z,{contextCls:"".concat(this.baseCls,"__loading-state"),title:t,msg:a})}))}}]),t}(l.PureComponent),f=g},3626:function(e,n,t){t.d(n,{Z:function(){return _}});var r=t(1413),o=t(5671),a=t(3144),s=t(9340),i=t(5716),c=t(2672),l=t.n(c),u=t(8427),d=t(4925),h=t(1694),p=t.n(h),C=t(2810),m=t(6782),g="function"===typeof Map?new Map:function(){var e=[],n=[];return{has:function(n){return e.indexOf(n)>-1},get:function(t){return n[e.indexOf(t)]},set:function(t,r){-1===e.indexOf(t)&&(e.push(t),n.push(r))},delete:function(t){var r=e.indexOf(t);r>-1&&(e.splice(r,1),n.splice(r,1))}}}(),f=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(B){f=function(e){var n=document.createEvent("Event");return n.initEvent(e,!0,!1),n}}function v(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!g.has(e)){var n=null,t=null,r=null,o=function(){e.clientWidth!==t&&c()},a=function(n){window.removeEventListener("resize",o,!1),e.removeEventListener("input",c,!1),e.removeEventListener("keyup",c,!1),e.removeEventListener("autosize:destroy",a,!1),e.removeEventListener("autosize:update",c,!1),Object.keys(n).forEach((function(t){e.style[t]=n[t]})),g.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",a,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",c,!1),window.addEventListener("resize",o,!1),e.addEventListener("input",c,!1),e.addEventListener("autosize:update",c,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",g.set(e,{destroy:a,update:c}),function(){var t=window.getComputedStyle(e,null);"vertical"===t.resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),n="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(n)&&(n=0),c()}()}function s(n){var t=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=t,e.style.overflowY=n}function i(){if(0!==e.scrollHeight){var r=function(e){for(var n=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&n.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return n}(e),o=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height="".concat(e.scrollHeight+n,"px"),t=e.clientWidth,r.forEach((function(e){e.node.scrollTop=e.scrollTop})),o&&(document.documentElement.scrollTop=o)}}function c(){i();var n=Math.round(parseFloat(e.style.height)),t=window.getComputedStyle(e,null),o="content-box"===t.boxSizing?Math.round(parseFloat(t.height)):e.offsetHeight;if(o<n?"hidden"===t.overflowY&&(s("scroll"),i(),o="content-box"===t.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==t.overflowY&&(s("hidden"),i(),o="content-box"===t.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),r!==o){r=o;var a=f("autosize:resized");try{e.dispatchEvent(a)}catch(c){}}}}function x(e){var n=g.get(e);n&&n.destroy()}function w(e){var n=g.get(e);n&&n.update()}var b=null;"undefined"===typeof window||"function"!==typeof window.getComputedStyle?((b=function(e){return e}).destroy=function(e){return e},b.update=function(e){return e}):((b=function(e,n){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return v(e)})),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],x),e},b.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],w),e});var S=b,Z=t(184),M=["contextCls","onResize","maxRows","onChange","onKeyDown","style","innerRef","children","lineHeight"],E="autosize:resized",y=function(e){(0,s.Z)(t,e);var n=(0,i.Z)(t);function t(){var e;(0,o.Z)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=n.call.apply(n,[this].concat(a))).state={lineHeight:void 0},e.handleChange=function(n){var t=e.props.onChange;t&&t(n)},e.handleKeyDown=function(n){var t=e.props.onKeyDown;t&&t(n)},e.handleKeyPress=function(n){var t=e.props.onKeyPress;t&&t(n)},e.handleResize=function(n){var t=e.props.onResize;t&&t(n)},e.updateLineHeight=function(){var n=e.props.lineHeight;e.textarea&&e.setState({lineHeight:n})},e.id="textarea-autosize-".concat((0,C.Z)()),e.baseCls="web-chat-textarea-autosize",e}return(0,a.Z)(t,[{key:"render",value:function(){var e=this.props,n=e.contextCls,t=(e.onResize,e.maxRows),o=(e.onChange,e.onKeyDown,e.style),a=(e.innerRef,e.children,e.lineHeight,(0,d.Z)(e,M)),s=this.state.lineHeight,i=t&&s?s*t:void 0;return(0,Z.jsx)(m.Z,(0,r.Z)((0,r.Z)({},a),{},{contextCls:p()(this.baseCls,n),onChange:this.handleChange,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,style:i?(0,r.Z)((0,r.Z)({},o),{},{maxHeight:i}):o,id:this.id}))}},{key:"componentDidUpdate",value:function(){this.textarea&&S.update(this.textarea)}},{key:"componentDidMount",value:function(){var e=this,n=this.props.maxRows;this.textarea=document.getElementById(this.id),"number"===typeof n?(this.updateLineHeight(),setTimeout((function(){return e.textarea&&S(e.textarea)}))):this.textarea&&S(this.textarea),this.textarea&&this.textarea.addEventListener(E,this.handleResize)}},{key:"componentWillUnmount",value:function(){this.textarea&&(this.textarea.removeEventListener(E,this.handleResize),S.destroy(this.textarea))}}]),t}(c.PureComponent);y.defaultProps={rows:1};var k=l().forwardRef((function(e,n){return(0,Z.jsx)(y,(0,r.Z)((0,r.Z)({},e),{},{innerRef:n}))})),I=function(e){(0,s.Z)(t,e);var n=(0,i.Z)(t);function t(){var e;(0,o.Z)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=n.call.apply(n,[this].concat(a))).baseCls="web-chat-message-input",e}return(0,a.Z)(t,[{key:"render",value:function(){return(0,Z.jsx)(k,(0,r.Z)({contextCls:this.baseCls},this.props))}}]),t}(c.PureComponent);I.defaultProps={maxLength:280,lineHeight:27,maxRows:3};var _=(0,u.Z)(I)},1301:function(e,n,t){t.d(n,{Z:function(){return S}});var r=t(4942),o=t(5671),a=t(3144),s=t(9340),i=t(5716),c=t(2672),l=t(1694),u=t.n(l),d=t(3748),h=t(2868),p=t(537),C=t(813),m=t(6693),g=t(6210),f=t(8974),v=t(184),x=p.Z.PRIMARY,w=p.Z.SECONDARY,b=function(e){(0,s.Z)(t,e);var n=(0,i.Z)(t);function t(){var e;(0,o.Z)(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=n.call.apply(n,[this].concat(s))).renderModalActions=function(){var n=e.getActionByType(x),t=e.getActionByType(w);return(0,v.jsxs)(v.Fragment,{children:[t&&e.renderAction(t),n&&e.renderAction(n)]})},e.renderAction=function(n){var t=n.onClick,r=n.text,o=n.variant,a=n.ariaLabel,s=e.getActionsModCls();return(0,v.jsx)(C.Z,{contextCls:u()("".concat(e.baseCls,"__btn"),s),text:r,variant:o,onClick:t,"aria-label":a})},e.renderIcon=function(){var n,t,o=e.props,a=o.iconName,s=o.iconType,i="".concat(e.baseCls,"__icon");switch(a){case f.H.EurekaCircleX:t=m.Z;break;case f.H.EurekaTriangleAlert:default:t=g.Z}var c=(n={},(0,r.Z)(n,"".concat(e.baseCls,"__icon--primary"),s===f.G.INFO),(0,r.Z)(n,"".concat(e.baseCls,"__icon--error"),s===f.G.ERROR),n);return(0,v.jsx)("div",{className:u()("".concat(e.baseCls,"__icon-container"),c),children:(0,v.jsx)(t,{contextCls:i})})},e.getActionsModCls=function(){var n=e.props.modalActions;return(0,r.Z)({},"".concat(e.baseCls,"__btn--single"),1===n.length)},e.getActionByType=function(n){return e.props.modalActions.find((function(e){return e.variant===n}))},e.baseCls="web-chat-modal-wrapper",e.baseOverlayCls="web-chat-modal-wrapper__overlay",e}return(0,a.Z)(t,[{key:"render",value:function(){var e=this.props,n=e.contextCls,t=e.appElement,r=e.renderTo,o=e.title,a=e.message;return(0,v.jsx)(h.Z,{dialogContextCls:u()(this.baseCls,n),overlayContextCls:u()(this.baseOverlayCls,n),renderModalActions:this.renderModalActions,hasCloseButton:!1,isOpen:!0,renderTo:r,appElement:t,children:(0,v.jsx)(d.Z,{contextCls:"".concat(this.baseCls,"__message-content"),renderIcon:this.renderIcon,title:o,msg:a})})}},{key:"componentDidMount",value:function(){this.container=document.querySelector(".ReactModalPortal"),this.container&&this.container.classList.add("react-modal-portal")}}]),t}(c.PureComponent);b.defaultProps={modalActions:[],appElement:document.getElementById("root"),renderTo:function(){return document.body}};var S=b},8974:function(e,n,t){t.d(n,{G:function(){return o},H:function(){return r}});var r={EurekaCircleX:"EurekaCircleX",EurekaTriangleAlert:"EurekaTriangleAlert"},o={ERROR:"ERROR",INFO:"INFO"}},6746:function(e,n,t){t.d(n,{Z:function(){return w}});var r=t(5671),o=t(3144),a=t(9340),s=t(5716),i=t(2672),c=t(1694),l=t.n(c),u=t(4596),d=t(4737),h=t(2540),p=t(7968),C=t(505),m=t(877),g=t(2515),f=t(6389),v=t(184),x=function(e){(0,a.Z)(t,e);var n=(0,s.Z)(t);function t(){var e;(0,r.Z)(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return(e=n.call.apply(n,[this].concat(a))).state={shouldShowMinimizedIconButton:!1,shouldCloseWindow:!1},e.renderTile=function(){var n=e.props,t=n.contextCls,r=n.children;return(0,v.jsx)("div",{className:l()(e.baseCls,t),children:(0,v.jsx)(u.Z,{renderHeading:e.renderHeading,contextCls:l()(e.baseTileCls,t),children:r})})},e.renderHeading=function(){var n=e.props,t=n.title,r=n.shouldShowMinimizeBtn,o=n.shouldShowCloseBtn;return(0,v.jsxs)("div",{className:"".concat(e.baseTileCls,"-header"),children:[(0,v.jsx)(p.Z,{contextCls:"".concat(e.baseTileCls,"-header-title"),children:t}),r&&e.renderMinimizeBtn(),o&&e.renderCloseBtn()]})},e.renderCloseBtn=function(){var n=(0,m.i0)("windowContainer.buttons.closeButtonAriaLabel");return(0,v.jsx)("div",{className:l()(e.baseTitleBtnContainerCls,"".concat(e.baseTitleBtnContainerCls,"--close-btn-container")),children:(0,v.jsx)(C.Z,{contextCls:"".concat(e.baseCls,"__close-btn"),renderIcon:e.renderCloseBtnIcon,onClick:e.handleCloseBtnClick,"aria-label":n})})},e.renderMinimizeBtn=function(){var n=(0,m.i0)("windowContainer.buttons.minimizeButtonAriaLabel");return(0,v.jsx)("div",{className:l()(e.baseTitleBtnContainerCls,"".concat(e.baseTitleBtnContainerCls,"--minimize-btn-container")),children:(0,v.jsx)(C.Z,{contextCls:"".concat(e.baseCls,"__minimize-btn"),renderIcon:e.renderMinimizeBtnIcon,onClick:e.handleMinimizeBtnClick,"aria-label":n})})},e.renderMinimizeBtnIcon=function(){return(0,v.jsx)(d.Z,{})},e.renderCloseBtnIcon=function(){return(0,v.jsx)(h.Z,{})},e.renderSvgChat=function(){return(0,v.jsx)(g.Z,{filename:"chat.svg",alt:(0,m.i0)("windowContainer.imgAlt.chat")})},e.renderIconButtonChat=function(){return(0,v.jsx)(f.Z,{contextCls:"".concat(e.baseCls,"__icon-button"),renderSvg:e.renderSvgChat,onClick:e.handleMinimizedIconBtnClick})},e.handleCloseBtnClick=function(){var n=e.props,t=n.onCloseBtnClick,r=n.onChatWidgetClose;t?t():(e.setState({shouldCloseWindow:!0}),r&&r())},e.handleMinimizeBtnClick=function(){var n=e.props.onMinimizeBtnClick;n?n():e.setState({shouldShowMinimizedIconButton:!0})},e.handleMinimizedIconBtnClick=function(){e.setState({shouldShowMinimizedIconButton:!1})},e.baseCls="web-chat-window-container",e.baseTileCls="".concat(e.baseCls,"__tile"),e.baseTitleBtnContainerCls="".concat(e.baseCls,"__title-btn-container"),e}return(0,o.Z)(t,[{key:"render",value:function(){var e=this.state,n=e.shouldShowMinimizedIconButton,t=e.shouldCloseWindow,r=this.props.contextCls;return(0,v.jsxs)("div",{className:l()(this.baseCls,r),children:[n&&!t&&this.renderIconButtonChat(),!n&&!t&&this.renderTile()]})}}]),t}(i.PureComponent);x.defaultProps={shouldShowMinimizeBtn:!1,shouldShowCloseBtn:!1,onChatWidgetClose:function(){return Promise.resolve()}};var w=x},9468:function(e,n,t){t.d(n,{$R:function(){return o},Dt:function(){return s},G0:function(){return a},Gv:function(){return u},cg:function(){return c},iw:function(){return i},n6:function(){return l},zC:function(){return r}});var r={GET_CONFIG:"/api/communication/config",LEAVE_MESSAGE:"/api/communication/leaveagentmessage",REQUEST_USER_TOKEN:"/api/communication/user/token/request?component=CHAT",START_CONVERSATION:"/api/communication/conversation/start",END_CONVERSATION:"/api/communication/conversation/end"},o={GET_CONFIG:"/communication/config",LEAVE_MESSAGE:"/communication/leaveagentmessage",REQUEST_USER_TOKEN:"/communication/user/token/request",START_CONVERSATION:"/{programCode}/communication/conversation/start",END_CONVERSATION:"/communication/conversation/end"},a={LEGACY:{QA:"https://secure.gobank.com/api",PIE:"https://secure.gobank.com/api",PROD:"https://secure.gobank.com/api"},BAAS:{QA:"https://qa-secure-gdrewardsdev.nextestate.com/BaaSGateway/v1",PIE:"https://pie-secure-gdrewardsdev.nextestate.com/BaaSGateway/v1",PROD:"https://secure.go2bank.com/api/BaaSGateway/v1"}},s={DEV:"https://dev-cdn.go2bankonline.com",QA:"https://qa-cdn.go2bankonline.com",PIE:"https://pie-cdn.go2bankonline.com",PROD:"https://prod-cdn.go2bankonline.com"},i={LEGACY:"LEGACY",BAAS:"BAAS"},c={GO2BANK:"go2bank",GOBANK:"gobank",WALMART:"walmart",GREENDOT:"greendot",INTUIT:"intuit",RUSHCARD:"rushcard"},l={GO2BANK:"gbr",GREENDOT:"greendot",WALMART:"walmart",INTUIT:"intuit",GOBANK:"gobank",RUSHCARD:"rushcard"},u={DEV:"DEV",QA:"QA",PIE:"PIE",PROD:"PROD"}},3170:function(e,n,t){t.d(n,{$D:function(){return c},YQ:function(){return d},jw:function(){return h},kA:function(){return u},m$:function(){return l}});var r=t(5861),o=t(7757),a=t.n(o),s=t(9306),i=t(2496),c=function(){var e=(0,r.Z)(a().mark((function e(){var n,t,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,i.P8)(),t=n.GET_CONFIG,e.next=3,(0,s.U2)(t);case 3:return r=e.sent,o={hoop:r.hoop,isAgentOnline:r.isAgentOnline,ewt:r.ewt,isLeaveAgentMessageEnabled:r.isLeaveAgentMessageEnabled,leaveAgentMessage:r.leaveAgentMessage,userInactiveInterval:r.userInactiveInterval},e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(a().mark((function e(n){var t,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,i.P8)(),r=t.LEAVE_MESSAGE,e.next=3,(0,s.v_)(r,n);case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(a().mark((function e(){var n,t,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,i.P8)(),t=n.REQUEST_USER_TOKEN,e.next=3,(0,s.v_)(t);case 3:return r=e.sent,o={token:r.token,email:r.email},e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(a().mark((function e(){var n,t,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,i.P8)(),t=n.START_CONVERSATION,e.next=3,(0,s.v_)(t);case 3:return r=e.sent,o={conversationSid:r.conversationSid},e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)(a().mark((function e(n,t){var r,o,c,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,i.P8)(),o=r.END_CONVERSATION,e.next=3,(0,s.v_)(o,{conversationSid:n,taskSid:t});case 3:return c=e.sent,l={conversationSid:c.conversationSid},e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},4113:function(e,n,t){t.d(n,{lu:function(){return _},jw:function(){return B},s3:function(){return y},cc:function(){return I},OD:function(){return Z},bG:function(){return T}});var r,o,a,s,i,c=t(5861),l=t(7757),u=t.n(l),d=t(3170),h=t(7996),p="initialized",C="failed",m="denied",g="error",f=function(){return r},v=function(e){return new Promise((function(n,t){(r=new h.KU(e)).on(h.KU.stateChanged,(function(e){e===p&&n(r),e===C&&t(e)}))}))},x=function(){var e=(0,c.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}throw new Error("twilio client must be initialized.");case 2:return e.next=4,r.getConversationBySid(n);case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),w=function(){var e=(0,c.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.updateToken(n);case 2:r=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b=function(){var e=(0,c.Z)(u().mark((function e(n){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.prepareMessage().setBody(n.body).setAttributes({index:n.index}).build().send();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),S=function(){var e=(0,c.Z)(u().mark((function e(n){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.prepareMessage().setAttributes({index:n.index}).addMedia(n.body).build().send();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Z=function(){return a},M=function(){var e=(0,c.Z)(u().mark((function e(){var n,t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.kA)();case 2:return n=e.sent,t=n.token,r=n.email,a=r,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=(0,c.Z)(u().mark((function e(){var n,t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=null===(n=s)||void 0===n?void 0:n.connectionState,e.next=e.t0===m?3:e.t0===g?9:15;break;case 3:return e.next=5,M();case 5:return t=e.sent,e.next=8,w(t);case 8:case 14:case 15:return e.abrupt("break",16);case 9:return e.next=11,M();case 11:return r=e.sent,e.next=14,v(r);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=(0,c.Z)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=f()){e.next=8;break}return e.next=4,M();case 4:return n=e.sent,e.next=7,v(n);case 7:s=e.sent;case 8:return e.next=10,E();case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=(0,c.Z)(u().mark((function e(){var n,t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.YQ)();case 2:return n=e.sent,t=n.conversationSid,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,c.Z)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=o){e.next=10;break}return e.next=4,y();case 4:return e.next=6,k();case 6:return n=e.sent,e.next=9,x(n);case 9:i=e.sent;case 10:return e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s=f())){e.next=4;break}return e.next=4,s.shutdown();case 4:r=void 0,o=void 0,a=void 0;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=(0,c.Z)(u().mark((function e(){var n,t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:return i=e.sent,e.next=5,i.getAttributes();case 5:if(n=e.sent,!(t=n.taskSid)){e.next=10;break}return e.next=10,(0,d.jw)(i.sid,t);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=(0,c.Z)(u().mark((function e(n){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:if(null===n||void 0===n||null===(t=n.body)||void 0===t||!t.media){e.next=4;break}return e.abrupt("return",S(n));case 4:return e.abrupt("return",b(n));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},8810:function(e,n,t){t.d(n,{p:function(){return p}});var r=t(5861),o=t(1413),a=t(7757),s=t.n(a),i=t(7386),c=t(5486),l=t(2496),u=t(9468),d=function(e){var n=(0,o.Z)({},e),t=document.getElementsByTagName("body")[0],r=getComputedStyle(t).fontSize;if(r&&r.includes("px")){var a=+r.slice(0,r.length-2);Object.keys(e).filter((function(e){return e.includes("font.size")})).forEach((function(t){var r=e[t];r&&(n[t]=(10/a*r).toFixed(0))}))}return n},h=function(){var e=(0,r.Z)(s().mark((function e(n){var t,r,o,a,i,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,l.vM)(),r=n.toUpperCase(),o=n.toLowerCase(),a="/resources/".concat(o,"/").concat(u.n6[r],"/branding/web.json"),i=t+a,e.next=7,(0,c.U2)(i,{credentials:"same-origin"});case 7:return h=e.sent,e.abrupt("return",d(h));case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(e){var n=h(e),t=(0,i.eU)(n),r=document.createElement("style");r.appendChild(document.createTextNode(t)),document.head.appendChild(r)}},9551:function(e,n,t){var r=t(9468),o={Environment:r.Gv.PROD,Brand:r.cg.GO2BANK};n.Z=o},9306:function(e,n,t){t.d(n,{cG:function(){return O},U2:function(){return W},hP:function(){return y},fu:function(){return I},dU:function(){return T},v_:function(){return L},M8:function(){return k},u0:function(){return _},Nb:function(){return A},S9:function(){return B}});var r,o,a,s,i=t(5861),c=t(7757),l=t.n(c),u=t(5486),d=t(1413),h=t(4942),p=t(4925),C=t(2810),m=t(9468),g=t(2496),f="Request-ID",v="Application-ID",x="RequestId",w="ApplicationId",b="Authorization",S=["headers"],Z=["headers"],M=function(e,n){var t,r=e.headers,o=(0,p.Z)(e,S),a=(t={},(0,h.Z)(t,n?x:f,(0,C.Z)()),(0,h.Z)(t,n?w:v,I()),t);return(0,d.Z)({headers:(0,d.Z)((0,d.Z)({},a),r)},o)},E=function(e){return function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t={},r=e||{},o=r.headers,a=void 0===o?{}:o,s=(0,p.Z)(r,Z),i=y();return i&&(t[b]="Bearer ".concat(i)),M((0,d.Z)((0,d.Z)({},s),{},{headers:(0,d.Z)((0,d.Z)({},t),a)}),n)}(e,(0,g.Xf)()===m.iw.LEGACY)},y=function(){return r},k=function(e){r=e},I=function(){return o},_=function(e){o=e},B=function(e){a=e},T=function(){return s},A=function(e){s=e},W=function(){var e=(0,i.Z)(l().mark((function e(n,t){var r,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=E(t),e.next=3,(0,u.U2)((0,g.BC)("".concat(a).concat(n)),r);case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),L=function(){var e=(0,i.Z)(l().mark((function e(n,t,r){var o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=E(r)).body=t,e.next=4,(0,u.v_)((0,g.BC)("".concat(a).concat(n)),o);case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),O=function(){r="",o="",a="",s=""}},2496:function(e,n,t){t.d(n,{BC:function(){return p},P8:function(){return d},VY:function(){return l},Xf:function(){return u},vM:function(){return h}});var r,o,a,s=t(9468),i=t(9551),c="{programCode}",l=function(e){r=e,function(){var e;switch(r){case s.iw.LEGACY:e=s.$R;break;case s.iw.BAAS:default:e=s.zC}a=e}()},u=function(){return r},d=function(){return a},h=function(){switch(i.Z.Environment){case s.Gv.PROD:return s.Dt.PROD;case s.Gv.PIE:return s.Dt.PIE;case s.Gv.QA:return s.Dt.QA;case s.Gv.DEV:return s.Dt.DEV;default:return s.Dt.PROD}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=e.replace(c,o);return n}},2336:function(){}}]);
//# sourceMappingURL=270.ea2c0487.chunk.js.map