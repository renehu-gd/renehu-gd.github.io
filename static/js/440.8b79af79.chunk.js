(self.webpackChunktfin_ui_project_template=self.webpackChunktfin_ui_project_template||[]).push([[440],{7757:function(e,t,n){e.exports=n(9727)},1368:function(e,t,n){"use strict";n.r(t);var o=n(2672),s=n.n(o),r=n(1250),a=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,o=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),o(e),s(e),r(e),a(e)}))},i=n(7757),l=n.n(i),c=n(5861),d=n(1413),u=n(4925),h=n(5671),p=n(3144),f=n(9340),C=n(5716),g=n(1694),w=n.n(g),v=n(3856),x=n(226),m=n(2249),Z=n(6472),k=n(5996),b=n(9054),j=n(6515),y=n(5665),S=n(7755),T=(n(2336),n(1624)),E=n(184),P=["contextCls"],_=["contextCls"],W=["contextCls"],I=["contextCls","i18n"],A=["isAgentOnline"];(0,v.YV)({defaultTranslations:{"en-US":function(){return n.e(661).then(n.t.bind(n,6661,19))}},partnerId:"walmart",shouldLoadStrings:!1});var M=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,h.Z)(this,n);for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={shouldShowChooseOptionWindow:!1,shouldShowErrorPage:!1,shouldShowHoopWindow:!1},e.renderContent=function(){var t=e.state,n=(t.shouldShowChooseOptionWindow,t.shouldShowErrorPage,t.shouldShowHoopWindow,e.props),o=n.contextCls,s=(0,u.Z)(n,P);return(0,E.jsx)("div",{className:w()(e.baseCls,o),children:(0,E.jsx)(T.Z,(0,d.Z)({contextCls:"".concat(e.baseCls,"__chat-window"),shouldShowMinimizeBtn:!0},s))})},e.renderHoopWindow=function(){var t=e.props,n=(t.contextCls,(0,u.Z)(t,_)),o=e.state.chatConfigs,s=null!==o&&void 0!==o?o:{},r=s.hoop,a=s.isLeaveAgentMessageEnabled;return(0,E.jsx)(Z.Z,(0,d.Z)((0,d.Z)({contextCls:"".concat(e.baseCls,"__hoop"),hoop:r,isLeaveAgentMessageEnabled:a},n),o))},e.renderChooseOptionWindow=function(){var t=e.props,n=(t.contextCls,(0,u.Z)(t,W)),o=e.state.chatConfigs,s=(null!==o&&void 0!==o?o:{}).ewt;return(0,E.jsx)(x.Z,(0,d.Z)((0,d.Z)({contextCls:"".concat(e.baseCls,"__choose-option-window"),ewt:s},n),o))},e.renderErrorPage=function(){var t=e.props,n=(t.contextCls,t.i18n),o=(0,u.Z)(t,I),s=n.getTranslation("chatModule.errorPage.title"),r=n.getTranslation("chatModule.errorPage.headText"),a=n.getTranslation("chatModule.errorPage.subText");return(0,E.jsx)(m.Z,(0,d.Z)({contextCls:"".concat(e.baseCls,"__generic-message"),icon:k.Z.WARNING,windowTitle:s,headText:r,subText:a,i18n:n},o))},e.fetchConfig=(0,c.Z)(l().mark((function t(){var n,o,s,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={},t.prev=1,t.next=4,j.Z.getChatConfig();case 4:o=t.sent,s=o.isAgentOnline,r=(0,u.Z)(o,A),n.chatConfigs=r,s?n.shouldShowChooseOptionWindow=!0:n.shouldShowHoopWindow=!0,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n.shouldShowErrorPage=!0;case 13:return t.prev=13,e.setState(n),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])}))),e.applyDesignToken=(0,c.Z)(l().mark((function t(){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.props.brand,t.next=4,y.Z.import(n);case 4:e.setState({isDesignTokenApplied:!0}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.debug(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e.setContainerElementStyle=function(){var t=e.props.containerElement;t&&(e.setState({originContainerElementPosition:t.style.position}),t.style.position="relative")},e.restoreContainerElementStyle=function(){var t=e.props.containerElement,n=e.state.originContainerElementPosition;t&&n&&(t.style.position=n)},e.destoryClient=(0,c.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.Z.destoryClient();case 2:case"end":return e.stop()}}),e)}))),e.baseCls="web-chat-module",e}return(0,p.Z)(n,[{key:"render",value:function(){var e=this.state.isDesignTokenApplied,t=this.props.isI18nReady;return e&&t&&this.renderContent()}},{key:"componentDidMount",value:function(){var e=this.props,t=e.accessToken,n=e.applicationId,o=e.prefixAPIUrl;t&&(S.Z.accessToken=t),n&&(S.Z.applicationId=n),o&&(S.Z.prefixAPIUrl=o),this.setContainerElementStyle(),this.fetchConfig(),this.applyDesignToken()}},{key:"componentWillUnmount",value:function(){this.restoreContainerElementStyle(),this.destoryClient()}}]),n}(o.PureComponent);M.defaultProps={onChatWidgetClose:function(){return Promise.resolve()}};var R=(0,v.Zh)(M);var D=document.getElementById("root");r.createRoot(D).render((0,E.jsxs)(s().StrictMode,{children:[(0,E.jsx)("div",{children:"Test Widget Page, when invoke the wiget, we should expose the ChatModule only and set the containerElement to which element in the existing page"}),(0,E.jsx)(R,{containerElement:D,accessToken:"ajkdjkljaklsjdfkljaklsdjfljksdajlf",brand:"go2bank",accountIdentifier:"adjkajsdlfjlkajsd",onChatWidgetClose:function(){console.log("Chat window has been closed")},applicationId:"10001"})]})),a()},1250:function(e,t,n){"use strict";var o=n(4556);t.createRoot=o.createRoot,t.hydrateRoot=o.hydrateRoot}}]);
//# sourceMappingURL=440.8b79af79.chunk.js.map