"use strict";(self.webpackChunktfin_ui_project_template=self.webpackChunktfin_ui_project_template||[]).push([[271],{8938:function(e,n,t){t.r(n);var r=t(5861),a=t(1413),i=t(5671),o=t(3144),s=t(136),c=t(516),u=t(7757),l=t.n(u),d=t(2672),p=t(3457),f=t(8005),h=t(8547),m=t(332),g=t(7819),v=t(7082),x=t(1396),b=t(3205),k=t(1537),T=t(4605),C=t(8810),w=t(3009),Z=t(2496),L=t(9551),S=t(9468),R=t(7212),j=t(8424),I=(t(2238),t(184)),_=function(e){(0,s.Z)(u,e);var n=(0,c.Z)(u);function u(){var e;(0,i.Z)(this,u);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return(e=n.call.apply(n,[this].concat(s))).state={isLoading:!0,hasError:!1,isAutoSwitchEnabled:!1},e.renderLandingPage=function(){var n=Object.assign({},e.props),t=e.state.isAutoSwitchEnabled;return(0,I.jsx)(x.Z,(0,a.Z)((0,a.Z)({},n),{},{isAutoSwitchEnabled:t}))},e.fetchConfig=(0,r.Z)(l().mark((function n(){var t,r,a;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.initI18nConfig();case 2:return t={isLoading:!1},n.prev=3,n.next=6,(0,T.BH)();case 6:r=n.sent,a=r.isAutoSwitchEnabled,t.isAutoSwitchEnabled=a,a&&(t.shouldShowLandingPage=!0),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(3),t.hasError=!0;case 15:return n.prev=15,e.setState(t),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[3,12,15,18]])}))),e.initialSetup=function(){var n=e.props,t=n.accessToken,r=n.applicationId,a=n.platform,i=n.env,o=n.brand;t&&(0,f.QW)(t),o&&(L.Z.Brand=o);var s=L.Z.Brand.toUpperCase(),c=S.n6[s];(0,Z.$k)(c),r&&((0,w.u0)(r),(0,f.x0)({applicationId:r,programCode:c})),a&&(0,Z.VY)(a.toUpperCase()),i&&((0,w.Nb)(i.toUpperCase()),L.Z.Environment=i.toUpperCase(),(0,w.S9)())},e.initI18nConfig=(0,r.Z)(l().mark((function e(){var n,r,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={defaultTranslations:{"en-US":function(){return t.e(661).then(t.t.bind(t,6661,19))}},shouldLoadStrings:!1},e.next=3,(0,p.YV)(r);case 3:if(a=e.sent,"bound bound value"!==(null===(n=a)||void 0===n?void 0:n.name)){e.next=8;break}return e.next=7,(0,p.YV)(r);case 7:a=e.sent;case 8:case"end":return e.stop()}}),e)}))),e.applyDesignToken=(0,r.Z)(l().mark((function n(){var t;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.props.brand,n.next=3,(0,C.p)(t);case 3:case"end":return n.stop()}}),n)}))),e.initializeImageLibrary=(0,r.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.L)({defaultImages:j.Z});case 2:case"end":return e.stop()}}),e)}))),e.initialRefreshTokenTimer=function(){e.clearRefreshTokenTimer();var n=e.props.onRefreshToken;if(n){var t=setInterval((0,r.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:(t=e.sent)&&(0,f.QW)(t);case 4:case"end":return e.stop()}}),e)}))),57e4);return function(){clearInterval(t)}}},e.clearRefreshTokenTimer=function(){e.refreshTokenTimer&&e.refreshTokenTimer()},e.baseCls="dd-switch-module",e}return(0,o.Z)(u,[{key:"render",value:function(){var e=this.state,n=e.isLoading,t=e.hasError,r=this.props.transactContainer;return(0,I.jsx)("div",{id:"root",children:(0,I.jsx)(v.BrowserRouter,{children:(0,I.jsx)(h.Z,{calloutConfig:{title:(0,p.i0)("errorBoundary.default.title"),msg:(0,p.i0)("errorBoundary.default.msg"),buttonText:(0,p.i0)("errorBoundary.default.button"),contextCls:"".concat(this.baseCls,"__error-boundary"),isPageHeading:!1,illustrationSrc:(0,g.m)(j.f.WARNING_ILLUSTRATION)},modalConfig:{dialogContextCls:"".concat(this.baseCls,"__error-boundary-modal")},redirectURL:R.l.LANDING,children:(0,I.jsx)(m.Z,{contextCls:"".concat(this.baseCls,"__loading"),loadingStateLocale:{title:(0,p.i0)("loadingState.title")},isLoading:n,hasError:t,children:(0,I.jsxs)(v.Routes,{children:[(0,I.jsx)(v.Route,{path:"/*",element:this.renderLandingPage()}),(0,I.jsx)(v.Route,{path:R.l.LANDING,element:this.renderLandingPage()}),(0,I.jsx)(v.Route,{path:R.l.BUMP,element:(0,I.jsx)(b.Z,{container:r})}),(0,I.jsx)(v.Route,{path:R.l.BUMP_ATTEMPT_DECLINED,element:(0,I.jsx)(k.Z,{})})]})})})})})}},{key:"componentDidMount",value:function(){this.initialSetup(),this.fetchConfig(),this.applyDesignToken(),this.initializeImageLibrary(),this.refreshTokenTimer=this.initialRefreshTokenTimer()}},{key:"componentWillUnmount",value:function(){(0,w.cG)(),this.clearRefreshTokenTimer()}}]),u}(d.PureComponent);_.defaultProps={platform:S.iw.BAAS,brand:S.cg.GO2BANK,env:S.Gv.PROD},n.default=_}}]);
//# sourceMappingURL=271.1f0655e7.chunk.js.map